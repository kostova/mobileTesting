!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b){function c(a){var b=[];"undefined"!=typeof this.operationDefinitions[a.platformInfo.platformKey]?b=this.operationDefinitions[a.platformInfo.platformKey]:"undefined"!=typeof this.operationDefinitions["default"]&&(b=this.operationDefinitions["default"]);var c=[];return b.forEach(function(a){var b=new t.TSNode(q.itemTypes.OPERATION,a.name);b.parent=this,b.operation=a,c.push(b)}),c}function d(a,b){var c=new t.TSNode(q.itemTypes.SUITE,a.name);return c.testsByName={},c.stepRepository=a.stepRepository,b.forEach(function(b){var d=a.testsByName[b];if(!d)throw new Error("Requested test, '"+b+"', was not found in suite, '"+a.name+"'.");c.addChild(d),c.testsByName[d.name]=d}),c}function e(){this.agentManager=new f,this.executionManager=new g,this.consoleReporter=new h(this.executionManager),this.executionManager.setBuilder(new i),this._testBuilderStack=[],this._suites={},r.call(this)}a("./libs/prototypeExtensions").install();var f=a("./libs/AgentManager.js"),g=a("./libs/ExecutionManager.js"),h=a("./libs/EMConsoleReporter.js"),i=a("./libs/EMDefaultResultBuilder.js"),j=a("./libs/WebApi.js"),k=a("./libs/iOSApi.js"),l=a("./libs/AndroidApi.js"),m=a("./libs/WP8Api.js"),n=a("./libs/CtrlApi.js"),o=a("./libs/Assertions.js"),p=a("./libs/RestClient.js"),q=a("./libs/ApiProtocol.js"),r=a("./libs/EventEmitter.js"),s=a("./libs/q.js"),t=a("./libs/api.js"),u=a("./libs/config.js"),v=a("./libs/connectionParamsFactory.js"),w=t.ValidateArgument,x=(t.ValidateArrayElements,{SPEC:"SPEC",DESCRIBE:"DESCRIBE",TEST:"TEST",STEP:"STEP"});e.prototype={constructor:e,Q:s,context:v.context,version:u.version+"."+u.protocolVersion,api:{web:j,ios:k,android:l,wp8:m,ctrl:n,assert:(new o).assert,restclient:new p},spec:function(a){try{if(0!==this._testBuilderStack.length)throw new Error("An attempt was made to call spec() from an invalid scope.");this._testBuilderStack.push({scopeType:x.SPEC,node:null});try{w(a,"function","specFunc",!1),a()}catch(b){throw b}finally{this._testBuilderStack.pop()}}catch(b){if(0!==this._testBuilderStack.length)throw b;this.emit("error",b)}},describe:function(a,b,c){try{if(0!==this._testBuilderStack.length&&this._testBuilderStack[this._testBuilderStack.length-1].scopeType!==x.SPEC)throw new Error("An attempt was made to call describe() from an invalid scope.");var d;if(w(a,"string","description",!1),w(b,"function","testsFunc",!1),w(c,"object","stepRepository",!0),"undefined"!=typeof this._suites[a])throw new Error('A suite with the description, "'+a+'", already exists.');if(d=new t.TSNode(q.itemTypes.SUITE,a),d.testsByName={},c){if("object"!=typeof c)throw new Error("Invalid parameter was provided for stepRepository. Parameter must be an object.");d.stepRepository=c}else d.stepRepository={};this._testBuilderStack.push({scopeType:x.DESCRIBE,node:d});try{b(),this._suites[a]=d}finally{this._testBuilderStack.pop()}}catch(e){if(e.suite=a,0!==this._testBuilderStack.length)throw e;this.emit("error",e)}},test:function(a,b){try{if(0===this._testBuilderStack.length||this._testBuilderStack[this._testBuilderStack.length-1].scopeType!==x.DESCRIBE)throw new Error("An attempt was made to call test() from an invalid scope.");var c,d=this._testBuilderStack[this._testBuilderStack.length-1].node;if(w(a,"string","name",!1),w(b,"function","stepsFunc",!1),"undefined"!=typeof d.testsByName[a])throw new Error('A test with the name, "'+a+'", already exists in this suite.');c=new t.TSNode(q.itemTypes.TEST,a),this._testBuilderStack.push({scopeType:x.TEST,node:c});try{d.addChild(c),d.testsByName[c.name]=c,b()}finally{this._testBuilderStack.pop()}}catch(e){if(e.test=a,0!==this._testBuilderStack.length)throw e;this.emit("error",e)}},step:function(a,b){try{if(0===this._testBuilderStack.length||this._testBuilderStack[this._testBuilderStack.length-1].scopeType!==x.TEST)throw new Error("An attempt was made to call step() from an invalid scope.");var d=this._testBuilderStack[this._testBuilderStack.length-1].node,e=d.parent;w(a,"string","name",!1),w(b,"function","operationsFunc",!0);var f=new t.TSNode(q.itemTypes.STEP,a);f.operationDefinitions={},f.getChildren=c,this._testBuilderStack.push({scopeType:x.STEP,node:f});try{if(b){var g=b();if(void 0===g)g=[];else if(!Array.isArray(g))throw new Error("Operations should be returned in an array.");f.operationDefinitions={"default":g}}else{if("undefined"==typeof e.stepRepository[a])throw new Error('No step is available in the step repository for name: "'+a+'".');if(null===e.stepRepository[a]||"object"!=typeof e.stepRepository[a])throw new Error('Invalid operation definitions in step repository for name: "'+a+'".');f.operationDefinitions=e.stepRepository[a]}Object.keys(f.operationDefinitions).forEach(function(a){if(!Array.isArray(f.operationDefinitions[a]))throw new Error('Operation definitions should be an array for key, "'+a+'".');f.operationDefinitions[a].forEach(function(b){if(!(b instanceof t.Operation))throw new Error('An invalid object exists in the array of operation definitions for key, "'+a+'".')})}),d.addChild(f)}finally{this._testBuilderStack.pop()}}catch(h){if(h.step=a,0!==this._testBuilderStack.length)throw h;this.emit("error",h)}},clearSuites:function(){this._suites={}},getSuites:function(){var a={};for(var b in this._suites){a[b]=[];for(var c=this._suites[b].getChildren(),d=0;d<c.length;d++)a[b].push(c[d].name)}return a},runSpecificSuitesAndTests:function(a,b,c){var e=[];if(null===a||"object"!=typeof a||Array.isArray(a))throw new Error("Invalid JSON in filter.");for(var f in a){if(null===f||"string"!=typeof f)throw new Error("Invalid JSON in filter.");var g=this._suites[f];if(!g)throw new Error("Requested suite, '"+f+"', was not found.");if(!Array.isArray(a[f]))throw new Error("Invalid JSON in filter for suite, '"+f+"'.");e.push(d(g,a[f]))}this.executionManager.executeSuitesOnAgents(e,b,c)},runSuites:function(a,b){this.runSpecificSuitesAndTests(this.getSuites(),a,b)},runSuite:function(a,b,c){var d=[this._suites[a]];this.executionManager.executeSuitesOnAgents(d,b,c)},runTest:function(a,b,c,e){var f=[d(this._suites[a],[b])];this.executionManager.executeSuitesOnAgents(f,c,e)},runOperation:function(a,b,c){var d=new t.TSNode(q.itemTypes.OPERATION,a.name);d.operation=a,this.executionManager.executeOperationOnAgent(d,b,c)},cancelExecution:function(){this.executionManager.cancelExecution()}},b.exports={TelerikTesting:e,EMDefaultResultBuilder:i}},{"./libs/AgentManager.js":4,"./libs/AndroidApi.js":5,"./libs/ApiProtocol.js":6,"./libs/Assertions.js":8,"./libs/CtrlApi.js":13,"./libs/EMConsoleReporter.js":14,"./libs/EMDefaultResultBuilder.js":15,"./libs/EventEmitter.js":16,"./libs/ExecutionManager.js":17,"./libs/RestClient.js":19,"./libs/WP8Api.js":22,"./libs/WebApi.js":23,"./libs/api.js":26,"./libs/config.js":29,"./libs/connectionParamsFactory.js":30,"./libs/iOSApi.js":31,"./libs/prototypeExtensions":33,"./libs/q.js":34}],3:[function(a,b){function c(a){return Array.isArray(a)?a:[a]}function d(a,b,c,d){this.type="AGENT",this.clientConnection=a,this.id=b,this.platformInfo=c,this.capabilities=d,this.screenshotsMode=g.screenshotsModes.SCREENSHOT_OPS,this.screenshotsEnabled=!1}var e=(a("./iOSApi.js"),a("./AndroidApi.js"),a("./WebApi.js"),a("./CoreApi.js")),f=a("./q.js"),g=a("./ApiProtocol.js"),h=a("./automationMessageFactory.js"),i={WEB:"web",IOS:"ios",ANDROID:"android",WP8:"wp8",NODE:"node",ALL:"all"};d.prototype={constructor:d,version:"1.0",sendMessage:function(a,b){return b=b||{},f.fcall(function(){var c=f.defer();if(this.clientConnection.isConnected){this.screenshotsEnabled&&"coreApi.endExecution"!==a.cmd&&this.screenshotsMode===g.screenshotsModes.ALL_OPS&&(a.params||(a.params={}),a.params.screenshot=!0);var d=h.messageToIdWithPayload(this.id,a);this.clientConnection.sendMessage(d,b.timeout,function(a,b){a?c.reject(a):c.resolve(b)})}else setTimeout(function(){c.reject(g.errors.SOCKET_NOT_CONNECTED)},1);return c.promise}.bind(this))},tryWrapAutomateWeb:function(a,b){if(a.platformKey==i.WEB&&"undefined"!=typeof b.message){if(this.platformInfo.platformKey==i.IOS)return{message:{cmd:"ios.automateWeb",params:{query:[{"class":"UIWebView"}],webCommand:b.message}}};if(this.platformInfo.platformKey==i.ANDROID)return{message:{cmd:"android.automateWeb",params:{query:[{"class":"android.webkit.WebView"}],webCommand:b.message}}};if(this.platformInfo.platformKey==i.WP8)return{message:{cmd:"wp8.automateWeb",params:{query:[{"class":"Microsoft.Phone.Controls.WebBrowser"}],webCommand:b.message}}}}return b},normalizeQuery:function(a,b){return b||(this.platformInfo.platformKey==i.IOS&&"undefined"==typeof a["class"]?a["class"]="UIView":this.platformInfo.platformKey==i.ANDROID&&"undefined"==typeof a["class"]?a["class"]="android.view.View":this.platformInfo.platformKey==i.WP8&&"undefined"==typeof a["class"]&&(a["class"]="System.Windows.UIElement")),c(a)},validatePlatformKey:function(a){return a===i.WEB||a===i.ALL?!0:a.indexOf(this.platformInfo.platformKey)>-1},getScreenshot:function(a){return void 0!==a.params?a.params.screenshot:void 0},getScreenshotPromise:function(){return this.platformInfo.platformKey==i.IOS||this.platformInfo.platformKey==i.ANDROID||this.platformInfo.platformKey==i.WP8?e.screenshot(this.platformInfo.platformKey,this.platformInfo.platformKey+".screenshot"):null},getEndExecutionPromise:function(){return this.platformInfo.platformKey==i.IOS||this.platformInfo.platformKey==i.ANDROID||this.platformInfo.platformKey==i.WP8?e.endExecution(this.platformInfo.platformKey):null}},b.exports=d},{"./AndroidApi.js":5,"./ApiProtocol.js":6,"./CoreApi.js":12,"./WebApi.js":23,"./automationMessageFactory.js":27,"./iOSApi.js":31,"./q.js":34}],4:[function(a,b){function c(){this._handleMessage=this._handleMessage.bind(this),this.clientConnection=new h,this.clientConnection.on("message",this._handleMessage),g.call(this)}var d=a("./Agent.js"),e=a("./TsAutomationProtocol.js"),f=a("./ApiProtocol.js"),g=a("./EventEmitter.js"),h=a("./ClientConnection.js"),i=a("./automationMessageFactory.js"),j=a("./connectionParamsFactory.js"),k=a("./config.js");c.prototype={constructor:c,version:"1.0",clientConnection:null,_handleMessage:function(a){switch(a.data.cmd){case"agentAdded":var b=a.data.params.agent,c=this.createExecutionAgent(b.id,b.platformInfo,b.capabilities);this.emit("agentAdded",c);break;case"agentRemoved":this.emit("agentRemoved",a.data.params.id);break;case"notify.descriptorRecorded":this.emit("notify.descriptorRecorded",a.data.params.descriptor)}},connect:function(a,b,c,d){if(this.clientConnection.isConnected&&d(f.errors.SOCKET_ALREADY_CONNECTED),k.messageServerUrl=a,k.messageTimeout=c,d){var e=function(){d(),this.clientConnection.off("connected",e)}.bind(this);this.clientConnection.on("connected",e)}var g=j.createParams(a,c);this.clientConnection.start(g.provider,g.startState,b)},disconnect:function(a){if(a){var b=function(){a(),this.clientConnection.off("disconnected",b)}.bind(this);this.clientConnection.on("disconnected",b)}this.clientConnection.stop()},createExecutionAgent:function(a,b,c){return new d(this.clientConnection,a,b,c)},_sendCommand:function(a,b){this.clientConnection.sendMessage(a,0,function(a,c){a?a.error&&a.error.code&&a.error.description?b({result:{code:200,reason:"Server error code "+a.error.code+", "+a.error.description}}):b({result:{code:200,reason:"Server error.\n"+JSON.stringify(a,null,"  ")}}):c&&c.result&&c.result.code&&c.result.reason?100===c.result.code?b(null,c):200===c.result.code?b(c,null):b({result:{code:200,reason:"Invalid response received from server."}},null):b({result:{code:200,reason:"Invalid response received from server."}},null)})},getExecutionAgents:function(a){if(this.clientConnection.isConnected||a(f.errors.SOCKET_NOT_CONNECTED,null),this.clientConnection.clientInfo){var b=this.createExecutionAgent(e.serverId,this.clientConnection.clientInfo.data.platformInfo,this.clientConnection.clientInfo.capabilities);a(null,[b])}else{var c=i.getClientsWithCapabilitiesPayload([e.capabilities.AUTOMATION_EXECUTION_AGENT]),d=i.messageToIdWithPayload(e.serverId,c),g=function(b,c){if(b)return a(b,null),void 0;var d=[];d=2==this.clientConnection.version?c:c.result.params.clients;var e=[];d.forEach(function(a){var b=this.createExecutionAgent(a.id,a.platformInfo,a.capabilities);e.push(b)}.bind(this)),a(null,e)}.bind(this);2==this.clientConnection.version?this.clientConnection.sendMessage(d,0,g):this._sendCommand(d,g)}},connectToAgent:function(a,b,c,d){this.clientConnection.isConnected||d(f.errors.SOCKET_NOT_CONNECTED);var g=i.getConnectSocketsServerPayload(a,b,c),h=i.messageToIdWithPayload(e.serverId,g);this._sendCommand(h,d)},disconnectFromAgents:function(a,b,c){this.clientConnection.isConnected||c(f.errors.SOCKET_NOT_CONNECTED),a&&(a=a.split(","));var d=i.getDisconnectAgentsPayload(a,b),g=i.messageToIdWithPayload(e.serverId,d);this._sendCommand(g,c)}},b.exports=c},{"./Agent.js":3,"./ApiProtocol.js":6,"./ClientConnection.js":11,"./EventEmitter.js":16,"./TsAutomationProtocol.js":21,"./automationMessageFactory.js":27,"./config.js":29,"./connectionParamsFactory.js":30}],5:[function(a,b){var c=a("./ApiProtocol.js"),d=a("./api.js"),e=a("./config.js"),f=a("./CoreApi.js"),g=a("./q.js"),h=d.ValidateArgument,i=(d.ValidateArrayElements,{Back:4,Enter:66,Menu:82,Search:84}),j={Programmatic:1,SoftwareKeyboard:2,HardwareKeyboard:3},k={ZoomIn:1,ZoomOut:2},l=10,m=3,n=1e3,o=3,p={tapType:{center:0,atLocation:1,centerLeft:2,centerRight:3,tapAndHold:4,auto:5},pinchType:{pinchIn:0,pinchOut:1},dragType:{dragToPoint:0,dragToDisplacement:1}},q=function(a,b,e,f,h,i){return f.sendMessage(a).then(function(j){return d.isResponseValid(j)?(new Date).getTime()>=h?d.FAIL(d.createResult(c.resultTypes.REASON,"Timeout.")):j.params[b]!=e?g.delay(i).then(function(){return q(a,b,e,f,h,i)}):j.result.code===c.responseCodes.SUCCESS?d.PASS(d.createResult(c.resultTypes.REASON,j.result.reason,f.getScreenshot(j))):d.FAIL(d.createResult(c.resultTypes.REASON,j.result.reason,f.getScreenshot(j))):d.FAIL(d.createResult(c.resultTypes.REASON,"Invalid response received from agent."))}).fail(function(a){return d.FAIL(d.createResult(c.resultTypes.EXCEPTION,a))}).then(function(a){return a})},r=function(a,b,c,e,f,g){return d.createCommand("android",a,function(a){h(b,"object","query",!1);var d={query:a.normalizeQuery(b),tapType:p.tapType.auto};return h(c,"object","point",!0)&&(h(c.x,"number","point.x",!1),h(c.y,"number","point.y",!1),d.point={x:c.x,y:c.y}),h(e,"number","tapCount",!0,1)&&(d.tapCount=e),h(f,"number","tapDownDelay",!0,1)&&(d.tapDownDelay=f),h(g,"number","tapUpDelay",!0,1)&&(d.tapUpDelay=g),{message:{cmd:"android.tap",params:d}}})},s=function(a,b,c,f,g,i){return d.createCommand("android",a,function(a){h(c,"object","query",!1);var d={query:a.normalizeQuery(c),pinchType:b};h(f,"object","point",!0)&&(h(f.x,"number","point.x",!1),h(f.y,"number","point.y",!1),d.point={x:f.x,y:f.y}),h(g,"number","distance",!0,1)&&(d.distance=g);var j=0;return h(i,"number","steps",!0,m,n)&&(d.steps=i,j=l*i),{message:{cmd:"android.pinch",params:d},options:{timeout:e.messageTimeout+j}}})},t=function(a,b,c,f,g,i,j){return d.createCommand("android",a,function(a){h(c,"object","query",!1);var d={query:a.normalizeQuery(c),dragType:b};h(f,"object","fromPoint",!0)&&(h(f.x,"number","fromPoint.x",!1),h(f.y,"number","fromPoint.y",!1),d.fromPoint={x:f.x,y:f.y}),h(g,"object",i,!0)&&(h(g.x,"number",i+".x",!1),h(g.y,"number",i+".y",!1),d.toPoint={x:g.x,y:g.y});var k=0;return h(j,"number","steps",!0,m,n)&&(d.steps=j,k=l*j),{message:{cmd:"android.drag",params:d},options:{timeout:e.messageTimeout+k}}})},u={constants:{swipeDirection:{right:0,left:1,up:2,down:3}},launch:function(a){return d.createCommand("android","android.launch",function(){return h(a,"string","packageName",!1),{message:{cmd:"android.launch",params:{packageName:a}}}})},close:function(){return d.createCommand("android","android.close",function(){return{message:{cmd:"android.close"}}})},wait:function(a){return f.wait("android","android.wait",a)},screenshot:function(){return f.screenshot("android","android.screenshot")},getPropertyValue:function(a,b,e){return d.createCommand("android","android.getPropertyValue",function(c){return h(a,"object","query",!1),h(b,"string","property",!1),h(e,"function","valueCallback",!0),{message:{cmd:"android.getPropertyValue",params:{query:c.normalizeQuery(a),property:b}}}},function(a,b){return e&&e(b.params.value),d.PASS(d.createResult(c.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})},selectRow:function(a,b,c){return d.createCommand("android","android.selectRow",function(d){return h(a,"object","query",!1),h(b,"number","row",!1),h(c,"number","group",!0),{message:{cmd:"android.selectRow",params:{query:d.normalizeQuery(a),row:b,group:c}}}})},tap:function(a,b,c,d){return r("android.tap",a,null,b,c,d)},tapAtPoint:function(a,b,c,d,e){return r("android.tapAtPoint",a,b,c,d,e)},tapAndHold:function(a){return r("android.tapAndHold",a,null,1,2e3,100)},tapCenterLeft:function(a){return d.createCommand("android","android.tapCenterLeft",function(b){return h(a,"object","query",!1),{message:{cmd:"android.tap",params:{query:b.normalizeQuery(a),tapType:p.tapType.centerLeft}}}})},tapCenterRight:function(a){return d.createCommand("android","android.tapCenterRight",function(b){return h(a,"object","query",!1),{message:{cmd:"android.tap",params:{query:b.normalizeQuery(a),tapType:p.tapType.centerRight}}}})},swipe:function(a,b){return d.createCommand("android","android.swipe",function(c){if(h(a,"object","query",!1),h(b,"number","direction",!1),0>b||b>o)throw new Error("Invalid direction specified.");return{message:{cmd:"android.swipe",params:{query:c.normalizeQuery(a),direction:b}}}})},pinchIn:function(a,b,c,d){return s("android.pinchIn",p.pinchType.pinchIn,a,b,c,d)},pinchOut:function(a,b,c,d){return s("android.pinchOut",p.pinchType.pinchOut,a,b,c,d)},twoFingerRotate:function(a,b,c){return d.createCommand("android","android.twoFingerRotate",function(d){h(a,"object","query",!1);var e={query:d.normalizeQuery(a)};return h(b,"object","point",!0)&&(h(b.x,"number","point.x",!1),h(b.y,"number","point.y",!1),e.point={x:b.x,y:b.y}),h(c,"number","angleInDegrees",!1),e.angleInDegrees=c,{message:{cmd:"android.rotate",params:e}}})},dragToPoint:function(a,b,c,d){return t("android.dragToPoint",p.dragType.dragToPoint,a,b,c,"toPoint",d)},dragToDisplacement:function(a,b,c,d){return t("android.dragToDisplacement",p.dragType.dragToDisplacement,a,b,c,"toDisplacement",d)},toggle:function(a,b){return d.createCommand("android","android.toggle",function(c){return h(a,"object","query",!1),h(b,"boolean","toggleValue",!1),{message:{cmd:"android.toggle",params:{query:c.normalizeQuery(a),toggleValue:b}}}})},setDate:function(a,b){return d.createCommand("android","android.setDate",function(c){return h(a,"object","query",!1),h(b,"object","date",!1),{message:{cmd:"android.setDate",params:{query:c.normalizeQuery(a),date:b.toISOString(),date_local:b.toLocalISOString()}}}})},setText:function(a,b){return d.createCommand("android","android.setText",function(c){return{message:{cmd:"android.setText",params:{query:c.normalizeQuery(a),text:b,type:j.Programmatic}}}})},typeText:function(a,b){return d.createCommand("android","android.typeText",function(c){return{message:{cmd:"android.setText",params:{query:c.normalizeQuery(a),text:b,type:j.SoftwareKeyboard}}}})},pressReturn:function(a){return d.createCommand("android","android.pressReturn",function(b){return h(a,"object","query",!1),{message:{cmd:"android.pressSoftwareKey",params:{query:b.normalizeQuery(a),keyCode:i.Enter}}}})},pressBackButton:function(){return d.createCommand("android","android.pressBackButton",function(){return{message:{cmd:"android.pressHardwareKey",params:{keyCode:i.Back}}}})},pressMenuButton:function(){return d.createCommand("android","android.pressMenuButton",function(){return{message:{cmd:"android.pressHardwareKey",params:{keyCode:i.Menu}}}})},pressSearchButton:function(){return d.createCommand("android","android.pressSearchButton",function(){return{message:{cmd:"android.pressHardwareKey",params:{keyCode:i.Search}}}})},setValue:function(a,b){return d.createCommand("android","android.setValue",function(c){return h(a,"object","query",!1),h(b,"number","value",!1),{message:{cmd:"android.setValue",params:{query:c.normalizeQuery(a),value:b}}}})},zoomIn:function(a){return d.createCommand("android","android.zoom",function(b){return h(a,"object","query",!1),{message:{cmd:"android.zoom",params:{query:b.normalizeQuery(a),zoomType:k.ZoomIn}}}})},zoomOut:function(a){return d.createCommand("android","android.zoom",function(b){return h(a,"object","query",!1),{message:{cmd:"android.zoom",params:{query:b.normalizeQuery(a),zoomType:k.ZoomOut}}}})},automateWeb:function(a,b){return b.postSetup=function(c,d){if("web"!==b.platformKey)throw new Error("Invalid operation. Operation must be a web operation.");return"undefined"!=typeof d.message?{message:{cmd:"android.automateWeb",params:{query:c.normalizeQuery(a),webCommand:d.message}}}:d},b},elementExists:function(a,b){return d.createCommand("android","android.elementExists",function(c){return h(a,"object","query",!1),h(b,"function","existsCallback",!1),{message:{cmd:"android.elementExists",params:{query:c.normalizeQuery(a)}}}},function(a,e){return b&&b(e.params.exists),d.PASS(d.createResult(c.resultTypes.REASON,e.result.reason,a.getScreenshot(e)))})},elementVisible:function(a,b){return d.createCommand("android","android.elementVisible",function(c){return h(a,"object","query",!1),h(b,"function","visibleCallback",!1),{message:{cmd:"android.elementVisible",params:{query:c.normalizeQuery(a)}}}},function(a,e){return b&&b(e.params.isVisible),d.PASS(d.createResult(c.resultTypes.REASON,e.result.reason,a.getScreenshot(e)))})},waitForElementExists:function(a,b,c,e){return d.createOperation("android","android.waitForElementExists",function(){if(h(a,"object","query",!1),h(b,"boolean","exists",!1),h(c,"number","checkInterval",!1,0),h(e,"number","timeout",!1,0),c>e)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(d,f){var g=(new Date).getTime()+e,h={cmd:"android.elementExists",params:{query:f.normalizeQuery(a)}};return q(h,"exists",b,f,g,c)}})},waitForElementVisible:function(a,b,c,e){return d.createOperation("android","android.waitForElementVisible",function(){if(h(a,"object","query",!1),h(b,"boolean","visible",!1),h(c,"number","checkInterval",!1,0),h(e,"number","timeout",!1,0),c>e)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(d,f){var g=(new Date).getTime()+e,h={cmd:"android.elementVisible",params:{query:f.normalizeQuery(a)}};return q(h,"isVisible",b,f,g,c)}})},waitForPropertyValue:function(a,b,c,e,f){return d.createOperation("android","android.waitForPropertyValue",function(){if(h(a,"object","query",!1),h(b,"string","property",!1),h(e,"number","checkInterval",!1,0),h(f,"number","timeout",!1,0),e>f)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(d,g){var h=(new Date).getTime()+f,i={cmd:"android.getPropertyValue",params:{query:g.normalizeQuery(a),property:b}};return q(i,"value",c,g,h,e)}})}};b.exports=u},{"./ApiProtocol.js":6,"./CoreApi.js":12,"./api.js":26,"./config.js":29,"./q.js":34}],6:[function(a,b){var c={itemTypes:{AGENT:"AGENT",SUITE:"SUITE",TEST:"TEST",STEP:"STEP",OPERATION:"OPERATION"},statuses:{PASS:"PASS",SKIP:"SKIP",FAIL:"FAIL"},responseCodes:{SUCCESS:100,FAILURE:200},resultTypes:{REASON:"REASON",EXCEPTION:"EXCEPTION",INVALID_AGENT:"INVALID_AGENT"},screenshotsModes:{ALL_OPS:"all-ops",FAILED_OPS:"failed-ops",SCREENSHOT_OPS:"screenshot-ops",NONE:"none"},errors:{SOCKET_ALREADY_CONNECTED:{code:10,description:"Test Studio is already connected to the message server."},SOCKET_NOT_CONNECTED:{code:20,description:"Test Studio is not connected to the message server."},EM_ALREADY_EXECUTING:{code:100,description:"Tests are already executing. Wait until they are finished before attempting to execute again."},EM_END_EXECUTION_FAILED:{code:110,description:"A failure occurred while attempting to close the app under test on the agent."},EM_UNHANDLED_EXCEPTION:{code:120,description:"An unhandled exception occurred during test execution.",customize:function(a){return{code:120,description:a}}},EM_AGENT_DISCONNECTED:{code:130,description:"The agent is disconnected from the message server."}}};b.exports=c},{}],7:[function(a,b){function c(a,b){if("[object Array]"===Object.prototype.toString.apply(a)){for(var c=0;c<a.length;c++)if(d(a[c],b,[],[]))return!0;return!1}return a.indexOf(b)>=0}function d(a,b,c,e){function f(a,b){return a.hasOwnProperty(b)}function g(a){return"function"==typeof a}var h=!0;if(a===b)return 0!==a||1/a==1/b;if(null===a||null===b)return a===b;var i=Object.prototype.toString.call(a);if(i!=Object.prototype.toString.call(b))return!1;switch(i){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0===a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var j=c.length;j--;)if(c[j]==a)return e[j]==b;c.push(a),e.push(b);var k=0;if("[object Array]"==i){if(k=a.length,h=k==b.length)for(;k--&&(h=d(a[k],b[k],c,e)););}else{var l=a.constructor,m=b.constructor;if(l!==m&&!(g(l)&&l instanceof l&&g(m)&&m instanceof m))return!1;for(var n in a)if(f(a,n)&&(k++,!(h=f(b,n)&&d(a[n],b[n],c,e))))break;if(h){for(n in b)if(f(b,n)&&!k--)break;h=!k}}return c.pop(),e.pop(),h}var e={equals:function(a,b){return d(a,b,[],[])},contains:function(a,b){return c(a,b)},matches:function(a,b){var c=new RegExp(b);return c.test(a)},closeTo:function(a,b,c){return 0!==c&&(c=c||2),Math.abs(b-a)<Math.pow(10,-c)},greaterThan:function(a,b){return a>b},greaterThanOrEqualTo:function(a,b){return a>=b},lessThan:function(a,b){return b>a},lessThanOrEqualTo:function(a,b){return b>=a}};b.exports=e},{}],8:[function(a,b){function c(a){this._not=!1,this.assert=this.assert.bind(this);for(var b in h)this[b]=d.bind(this,b,a);Object.defineProperty(this,"not",{get:function(){return this._not=!0,this}})}function d(a,b){var c=Array.prototype.slice.call(arguments,1),d=c[1],e=h[a].apply(null,c);if(this._not&&(e=!e),!e){var f=g(a,b,d,this._not,c.slice(1));throw f}return e}function e(a,b){var c=["to"];return b&&c.push("not"),a=a.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase(),/es$/.test(a)?c.push(a.substring(0,a.length-2)):/s$/.test(a)?c.push(a.substring(0,a.length-1)):(c.push("be"),c.push(a)),c.join(" ")}function f(a){return"string"==typeof a?'"'+a+'"':JSON.stringify(a)}function g(a,b,c,d,g){var h=["Expected"];return h.push(f(b)),h.push(e(a,d)),h.push(f(c)),{assertionError:{method:a,actual:b,expected:c,params:g,isNot:d,message:h.join(" ")}}}var h=a("./AssertionMatchers.js");c.prototype={constructor:c,assert:function(a){return new c(a)}.bind(this)},b.exports=c},{"./AssertionMatchers.js":7}],9:[function(a,b){function c(a,b,c,d,e){this.messageId=a,this.responseToMessageId=b,this.fromId=c,this.toId=d,this.data=e}var d=a("./utils.js");c.prototype={constructor:c,generateResponseWithPayload:function(a){return new c(d.uuid(),this.messageId,null,this.fromId,a)},generateResponseFromIdWithPayload:function(a,b){return new c(d.uuid(),this.messageId,a,this.fromId,b)},toJSON:function(){var a={id:this.messageId,toId:this.toId,data:this.data};return this.fromId&&(a.fromId=this.fromId),this.responseToMessageId&&(a.responseToMessageId=this.responseToMessageId),a},toString:function(){return JSON.stringify(this.toJSON())},toPrettyString:function(){return JSON.stringify(this,null,"  ")}},b.exports=c},{"./utils.js":35}],10:[function(a,b){function c(){}function d(){}function e(a,b,c){this.capabilities=a,this.sharedKey=b,this.resumeId=c}function f(){}function g(a){this.resumeId=a}function h(a){this.establishConnection=a}function i(){}var j=a("./MessageStash.js"),k=a("./TsAutomationProtocol.js"),l=a("./automationMessageFactory.js"),m=a("./clientInfoFactory.js"),n=a("./logger.js");c.prototype={constructor:c,beginState:function(){},endState:function(){},onConnected:function(){return this},onMessageReceived:function(){return this},sendMessage:function(){return this},onSendMessageTimeout:function(a,b,c){return c({error:{code:100,description:"request timed out."}}),this},onClosed:function(){return this}},d.prototype=new c,d.prototype.onMessageReceived=function(a,b){try{var c=l.messageWithJSONString(b);return this.handleMessage(a,c,function(b){a.sendMessage(c.generateResponseWithPayload(b).toString())})}catch(d){return n.error("Error: Unable to parse message. Ignoring it."),n.error(d),this}},d.prototype.handleMessage=function(){return this},e.prototype=new d,e.prototype.handleMessage=function(a,b,c){if(b.data&&b.data.handshake===k.messages.HS_GET_CLIENT_INFO){var d=k.MT_PROTOCOL_VERSION_MAX;if(void 0!==b.data.serverVersion){var e=parseInt(b.data.serverVersion);d=e>=k.MT_PROTOCOL_VERSION_MIN&&e<=k.MT_PROTOCOL_VERSION_MAX?e:k.MT_PROTOCOL_VERSION_MAX}else d=k.MT_PROTOCOL_VERSION_MIN;this.machine.version=d;var g=m.create(d);return g.capabilities=this.capabilities,g.identity.sharedKey=g.identity.sharedKey||this.machine.sharedKey,"string"==typeof this.resumeId&&(g.identity.resumeId=this.resumeId),c(g),new f}return this},f.prototype=new d,f.prototype.handleMessage=function(a,b){return b.data&&b.data.handshake===k.messages.HS_ACCEPTED?new g(b.data.id):(b.data&&b.data.error&&this.machine.emit("error",b.data.error),this)},g.prototype=new d,g.prototype.beginState=function(){this.machine.isConnected=!0,this.machine.emit("connected",this.resumeId)},g.prototype.handleMessage=function(a,b,c){var d=j.pull(b.responseToMessageId),e=d?d.responseCallback:null;if(e){var f=b.toJSON().data;f.error?f.error.code==k.errors.RECIPIENT_NOT_AVAILABLE.code?setTimeout(function(){this.sendMessage(a,d.originalMsg,d.originalTimeout,d.responseCallback)}.bind(this),500):e(f):e(null,f)}else b.data&&b.data.cmd?this.machine.emit("message",b,c):n.error("Got unhandled message! "+b.toString());return this},g.prototype.sendMessage=function(a,b,c,d){return j.stash(b.messageId,c,d,b),a.sendMessage(b.toString()),this},g.prototype.onClosed=function(){return this.machine.emit("disconnected"),this},h.prototype=new d,h.prototype.beginState=function(a){this.establishConnection&&a.start()},h.prototype.onConnected=function(a){var b=l.messageToIdWithPayload(k.serverId,{handshake:k.messages.HS_GET_CLIENT_INFO,serverVersion:k.version,isResuming:this.establishConnection});return a.sendMessage(b.toString()),this},h.prototype.handleMessage=function(a,b){this.machine.clientInfo=b.toJSON(),this.machine.version=this.machine.clientInfo.data.version;
var c=l.messageToIdWithPayload(k.serverId,{handshake:k.messages.HS_ACCEPTED,id:k.serverId});return a.sendMessage(c.toString()),new i},h.prototype.sendMessage=function(a,b,c,d){return d&&d(l.errorPayloadWithError(k.errors.RECIPIENT_NOT_FOUND)),this},h.prototype.onSendMessageTimeout=function(a,b,c){return this.establishConnection=!1,a.stop(),c(l.errorPayloadWithError(k.errors.TIMEOUT)),this},h.prototype.onClosed=function(a){return this.establishConnection&&setTimeout(function(){n.debug("Handshake unsuccessful... Retrying..."),a.start()},100),this},i.prototype=new d,i.prototype.beginState=function(){this.retryConnectOnClose=!1,this.machine.isConnected=!0,this.machine.emit("connected")},i.prototype.handleMessage=function(a,b,c){if(b.toId===k.serverId&&b.data&&b.data.cmd&&"suspend"===b.data.cmd)return this.retryConnectOnClose=!0,this;this.retryConnectOnClose=!1;var d=j.pull(b.responseToMessageId),e=d?d.responseCallback:null;return e?e(null,b.toJSON().data):b.data&&b.data.cmd?this.machine.emit("message",b,c):n.error("Got unhandled message!"+b.toString()),this},i.prototype.sendMessage=function(a,b,c,d){return 2==this.machine.version&&("ios.launch"===b.data.cmd||"coreApi.endExecution"===b.data.cmd)&&(this.retryConnectOnClose=!0),j.stash(b.messageId,c,d,b),a.sendMessage(b.toString()),this},i.prototype.onClosed=function(a){return a.stop(),new h(this.retryConnectOnClose)},b.exports={AutomationState:c,ElevatedState:d,NormalHandshakeStart:e,ReverseHandshakeStart:h}},{"./MessageStash.js":18,"./TsAutomationProtocol.js":21,"./automationMessageFactory.js":27,"./clientInfoFactory.js":28,"./logger.js":32}],11:[function(a,b){function c(){d.call(this),this.isStarted=!1,this.version=f.version}var d=a("./EventEmitter.js"),e=a("./MessageStash.js"),f=a("./TsAutomationProtocol.js");c.prototype._provider=null,c.prototype._startState=null,c.prototype.sharedKey=null,c.prototype.transitionToState=function(a){a&&this._state!==a&&(this._state&&(this._state.endState(this._provider),this._state.machine=null),this._state=a,this._state.machine=this,this._state.beginState(this._provider))},c.prototype.start=function(a,b,c){this.isStarted||(this.isStarted=!0,this.sharedKey=c,this._provider=a,e.start(function(a,b){this.isStarted&&this._state&&this.transitionToState(this._state.onSendMessageTimeout(this._provider,a,b))}.bind(this)),a.on("connect",function(){this.isStarted&&this._state&&this.transitionToState(this._state.onConnected(this._provider))}.bind(this)),a.on("message",function(a){this.isStarted&&this._state&&this.transitionToState(this._state.onMessageReceived(this._provider,a))}.bind(this)),a.on("close",function(){this.isStarted&&this._state&&this.transitionToState(this._state.onClosed(this._provider))}.bind(this)),this.transitionToState(b),a.start())},c.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this._state.machine=null,this._state=null,e.stop(),this._provider.stop(),this._provider=null)},c.prototype.sendMessage=function(a,b,c){if(!this._provider)throw new Error("attempted to send a message with no active provider.");if(!this._state)throw new Error("attempted to send a message with no active state.");if(b&&"number"!=typeof b)throw new Error("timeout must be a number");b||(b=this._provider.defaultTimeout),this.transitionToState(this._state.sendMessage(this._provider,a,b,c))},b.exports=c},{"./EventEmitter.js":16,"./MessageStash.js":18,"./TsAutomationProtocol.js":21}],12:[function(a,b){var c=a("./q.js"),d=a("./api.js"),e=a("./ApiProtocol.js"),f={wait:function(a,b,f){return d.createOperation(a,b,function(){return d.ValidateArgument(f,"number","milliseconds",!1,0),""},function(){return function(){return c.delay(f).then(function(){return d.PASS(d.createResult(e.resultTypes.REASON,"Success"))})}})},screenshot:function(a,b){return d.createCommand(a,b,function(){return{message:{cmd:"coreApi.screenshot",params:{screenshot:!0}}}},function(a,b){return d.PASS(d.createResult(e.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})},endExecution:function(a){return d.createCommand(a,"coreApi.endExecution",function(){return{message:{cmd:"coreApi.endExecution"}}})}};b.exports=f},{"./ApiProtocol.js":6,"./api.js":26,"./q.js":34}],13:[function(a,b){var c=(a("./q.js"),a("./api.js")),d=a("./ApiProtocol.js"),e={launchApp:function(a){return c.createCommand("all","ctrl.launch",function(){return{message:{cmd:"ctrl.launch",params:{url:a}}}})},closeApp:function(){return c.createCommand("all","ctrl.close",function(){return{message:{cmd:"ctrl.close"}}})},getElements:function(a){return c.createCommand("all","ctrl.getElements",function(){return{message:{cmd:"ctrl.getElements"}}},function(b,e){return a(JSON.stringify(e.params.elements,null,"  ")),c.PASS(c.createResult(d.resultTypes.REASON,e.result.reason,null))})},highlightElementByIdentifier:function(a){return c.createCommand("all","ctrl.highlightElement",function(){return{message:{cmd:"ctrl.highlightElement",params:{identifier:a}}}})},highlightElementByQuery:function(a){return c.createCommand("all","ctrl.highlightElement",function(b){return{message:{cmd:"ctrl.highlightElement",params:{query:b.normalizeQuery(a)}}}})},highlightElementCancel:function(){return c.createCommand("all","ctrl.highlightElement",function(){return{message:{cmd:"ctrl.highlightElement",params:{cancel:!0}}}})}};b.exports=e},{"./ApiProtocol.js":6,"./api.js":26,"./q.js":34}],14:[function(a,b){function c(a){a.on("agentExecutionStarted",function(a,b){d.info("AGENT ID: "+a.id+" - execution started: ",b)}),a.on("executionStarted",function(a,b,c){d.info(b.type+": Execution Started: ",b,c)}),a.on("executionEnded",function(a,b,c,e){d.info(b.type+": Execution Ended: ",b,c,e)}),a.on("executionError",function(a,b,c){d.info(b.type+": EXECUTION ERROR: ",c)}),a.on("agentExecutionEnded",function(a,b){d.info("AGENT ID: "+a.id+" - execution ended: ",b)})}var d=a("./logger.js");b.exports=c},{"./logger.js":32}],15:[function(a,b){function c(){this.screenshotCallback=function(){}}function d(a,b,c){return{passed:a,failed:b,skipped:c}}function e(a){var b={operationStats:d(0,0,0)};for(ii=0;ii<a.length;ii++)switch(a[ii].status){case"PASS":b.operationStats.passed++;break;case"FAIL":b.operationStats.failed++;break;case"SKIP":b.operationStats.skipped++}return b}function f(a){var b={stepStats:d(0,0,0),operationStats:d(0,0,0)};for(ii=0;ii<a.length;ii++){switch(a[ii].status){case"PASS":b.stepStats.passed++;break;case"FAIL":b.stepStats.failed++;break;case"SKIP":b.stepStats.skipped++}b.operationStats.passed+=a[ii].statistics.operationStats.passed,b.operationStats.failed+=a[ii].statistics.operationStats.failed,b.operationStats.skipped+=a[ii].statistics.operationStats.skipped}return b}function g(a){var b={testStats:d(0,0,0),stepStats:d(0,0,0),operationStats:d(0,0,0)};for(ii=0;ii<a.length;ii++){switch(a[ii].status){case"PASS":b.testStats.passed++;break;case"FAIL":b.testStats.failed++;break;case"SKIP":b.testStats.skipped++}b.stepStats.passed+=a[ii].statistics.stepStats.passed,b.stepStats.failed+=a[ii].statistics.stepStats.failed,b.stepStats.skipped+=a[ii].statistics.stepStats.skipped,b.operationStats.passed+=a[ii].statistics.operationStats.passed,b.operationStats.failed+=a[ii].statistics.operationStats.failed,b.operationStats.skipped+=a[ii].statistics.operationStats.skipped}return b}function h(a){var b={suiteStats:d(0,0,0),testStats:d(0,0,0),stepStats:d(0,0,0),operationStats:d(0,0,0)};for(ii=0;ii<a.length;ii++){switch(a[ii].status){case"PASS":b.suiteStats.passed++;break;case"FAIL":b.suiteStats.failed++;break;case"SKIP":b.suiteStats.skipped++}b.testStats.passed+=a[ii].statistics.testStats.passed,b.testStats.failed+=a[ii].statistics.testStats.failed,b.testStats.skipped+=a[ii].statistics.testStats.skipped,b.stepStats.passed+=a[ii].statistics.stepStats.passed,b.stepStats.failed+=a[ii].statistics.stepStats.failed,b.stepStats.skipped+=a[ii].statistics.stepStats.skipped,b.operationStats.passed+=a[ii].statistics.operationStats.passed,b.operationStats.failed+=a[ii].statistics.operationStats.failed,b.operationStats.skipped+=a[ii].statistics.operationStats.skipped}return b}function i(a,b){return"STEP"==a?e(b):"TEST"==a?f(b):"SUITE"==a?g(b):"AGENT"==a?h(b):null}function j(a){return{method:a.method,actual:JSON.stringify(a.actual),expected:JSON.stringify(a.expected),params:JSON.stringify(a.params),isNot:a.isNot,message:a.message}}function k(){return{name:"Unknown Exception",message:"",stack:""}}function l(a){return a&&a.error&&a.error.code&&a.error.description?{name:"Framework Exception",message:a.error.code+": "+a.error.description,stack:""}:!1}function m(a){return a&&a.name&&a.message&&a.stack?{name:a.name,message:a.message,stack:a.stack}:!1}function n(a){return"string"==typeof a?{name:"String Exception",message:a,stack:""}:!1}function o(a){return"object"==typeof a?{name:"User Exception",message:JSON.stringify(a),stack:""}:!1}function p(a){return n(a)||l(a)||m(a)||o(a)||k()}function q(a){return a&&a.assertionError?{type:"ASSERTIONERROR",value:j(a.assertionError)}:{type:"EXCEPTION",value:p(a)}}function r(a,b,c,d,e,f){var g="";e.screenshot&&(g=u.uuid()+".png",f(g,e.screenshot));var h={type:"Unknown",value:"Unknown"};return"undefined"!=typeof e&&e&&e.type&&e.value&&("EXCEPTION"===e.type?h=q(e.value):("REASON"===e.type||"INVALID_AGENT"===e.type)&&(h.type=e.type,h.value="string"==typeof e.value?e.value:JSON.stringify(e.value))),{name:b.name,type:b.type,status:a,details:h,screenshot:g,startTime:c,endTime:d,version:v}}function s(a,b,c,d,e,f){var g=i(c.type,f);return"AGENT"===c.type?t(a,c,d,e,f,g):{name:c.name,type:c.type,status:a,results:f,startTime:d,endTime:e,version:v,statistics:g}}function t(a,b,c,d,e,f){return{agent:{id:b.agent.id,platformKey:b.agent.platformInfo.platformKey,platformInfo:b.agent.platformInfo},type:b.type,status:a,results:e,startTime:c,endTime:d,version:v,statistics:f}}var u=(a("./logger.js"),a("./utils.js")),v="1.1";c.prototype={constructor:c,pass:function(a,b,c,d,e){return r("PASS",b,c,d,e,this.screenshotCallback)},skip:function(a,b,c,d,e){return r("SKIP",b,c,d,e,this.screenshotCallback)},fail:function(a,b,c,d,e){return r("FAIL",b,c,d,e,this.screenshotCallback)},passWithResults:function(a,b,c,d,e){return s("PASS",a,b,c,d,e)},skipWithResults:function(a,b,c,d,e){return s("SKIP",a,b,c,d,e)},failWithResults:function(a,b,c,d,e){return s("FAIL",a,b,c,d,e)}},b.exports=c},{"./logger.js":32,"./utils.js":35}],16:[function(a,b){b.exports=function(){var a={},b=function(b,c){b in a||(a[b]=[]),a[b].push(c)},c=function(b,c){for(var d in a[b])if(a[b][d]===c){a[b].splice(d,1);break}},d=function(b){var c=Array.prototype.slice.call(arguments,1),d=a[b]||[];for(var e in d)d[e].apply(this,c)};return this.on=b,this.off=c,this.emit=d,this}},{}],17:[function(a,b){function c(a,b,d,e){var f=g.defer(),h=e,l=[],m=!0,n=!1,o=(new Date).getTime(),p=null,q=null;if(d.type===j.itemTypes.AGENT)try{a.emit("agentExecutionStarted",b,o)}catch(r){k.error("EM EMITTER ERROR - agentExecutionStarted",r)}else try{a.emit("executionStarted",b,d,o)}catch(r){k.error("EM EMITTER ERROR - executionStarted",r)}if(d.type===j.itemTypes.OPERATION){if(h){p=(new Date).getTime(),q=i.SKIP(a.builder.skip(b,d,o,p,i.createResult(j.resultTypes.REASON,"Skipped.")),n);try{a.emit("executionEnded",b,d,p,q.outputResult)}catch(r){k.error("EM EMITTER ERROR - executionEnded",r)}return q}return g.spread([a,b],d.operation.execute.bind(d.operation)).then(function(c){if(p=(new Date).getTime(),c.isPass())c=i.PASS(a.builder.pass(b,d,o,p,c.outputResult),n);else if(c.isSkip())c=i.SKIP(a.builder.skip(b,d,o,p,c.outputResult),n);else if(c.isFail()){if(c.isFailAndCannotContinue())try{a.emit("executionError",b,d,j.errors.EM_AGENT_DISCONNECTED)}catch(e){k.error("EM EMITTER ERROR - executionError",e)}if(b.screenshotsMode===j.screenshotsModes.FAILED_OPS){var f=b.getScreenshotPromise();if(f)return g.spread([a,b],f.execute.bind(f)).then(function(e){e.isPass()?(c.outputResult.screenshot=e.outputResult.screenshot,c=i.FAIL(a.builder.fail(b,d,o,p,c.outputResult),c.isFailAndCannotContinue())):c=i.FAIL(a.builder.fail(b,d,o,p,c.outputResult),c.isFailAndCannotContinue());try{a.emit("executionEnded",b,d,p,c.outputResult)}catch(f){k.error("EM EMITTER ERROR - executionEnded",f)}return c})}c=i.FAIL(a.builder.fail(b,d,o,p,c.outputResult),c.isFailAndCannotContinue())}try{a.emit("executionEnded",b,d,p,c.outputResult)}catch(e){k.error("EM EMITTER ERROR - executionEnded",e)}return c})}return g(d.getChildren(b)).then(function(r){return r.length<=0&&(e=!0),r.forEach(function(d){f.promise=f.promise.then(function(){return g.spread([a,b,d,h],c)}).then(function(c){if(l.push(c.outputResult),(c.stopTestRun||a._isCancelled)&&(h=!0,n=!0),c.isFail()&&(m=!1),d.type===j.itemTypes.OPERATION)h||(h=c.isFail());else if(d.type===j.itemTypes.STEP)h||(h=c.isFail());else if(d.type===j.itemTypes.TEST&&!h){var e=b.getEndExecutionPromise();if(e)return g.spread([a,b],e.execute.bind(e)).then(function(c){if(c.isFail()){h=!0,n=!0;try{a.emit("executionError",b,d,j.errors.EM_END_EXECUTION_FAILED)}catch(e){k.error("EM EMITTER ERROR - executionError",e)}}})}}).fail(function(a){throw k.error(d.type+" - Unhandled Error: ",a),a})}),f.resolve(),f.promise.then(function(){if(p=(new Date).getTime(),q=e?i.SKIP(a.builder.skipWithResults(b,d,o,p,l),n):m?i.PASS(a.builder.passWithResults(b,d,o,p,l),n):i.FAIL(a.builder.failWithResults(b,d,o,p,l),n),d.type===j.itemTypes.AGENT)try{a.emit("agentExecutionEnded",b,p)}catch(c){k.error("EM EMITTER ERROR - agentExecutionEnded",c)}else try{a.emit("executionEnded",b,d,p,q.outputResult)}catch(c){k.error("EM EMITTER ERROR - executionEnded",c)}return q})})}function d(a,b,d){var e=g.defer(),f=[];return d.forEach(function(d){var e=new i.TSNode(j.itemTypes.AGENT,d.id);e.agent=d,e.children=b;var h=g().then(function(){return g.spread([a,d,e,!1],c)}).fail(function(a){throw k.error("AGENT - Unhandled Error: ",a),a}).then(function(b){if(a._isCancelled){var c=d.getEndExecutionPromise();if(c)return g.spread([a,d],c.execute.bind(c)).then(function(c){if(c.isFail())try{a.emit("executionError",d,d,j.errors.EM_END_EXECUTION_FAILED)}catch(e){k.error("EM EMITTER ERROR - executionError",e)}return b})}return b});f.push(h)}),e.resolve(f),e.promise.then(function(a){return g.allSettled(a).then(function(a){var b=g.defer(),c=[];return a.forEach(function(a){if("fulfilled"!==a.state)throw a;c.push(a.value.outputResult)}),b.resolve(c),b.promise})})}function e(a){this.impl=a}function f(){this._reporterImpl=null,this._builderImpl=null,this._isExecuting=!1,this._isCancelled=!1,h.call(this)}var g=a("./q.js"),h=a("./EventEmitter.js"),i=a("./api.js"),j=a("./ApiProtocol.js"),k=a("./logger.js");e.prototype={constructor:e,pass:function(a,b,c,d,e){try{return this.impl.pass(a,b,c,d,e)}catch(f){return k.error("RB ERROR - pass: ",f),"RB ERROR: pass"}},skip:function(a,b,c,d,e){try{return this.impl.skip(a,b,c,d,e)}catch(f){return k.error("RB ERROR - skip: ",f),"RB ERROR: skip"}},fail:function(a,b,c,d,e){try{return this.impl.fail(a,b,c,d,e)}catch(f){return k.error("RB ERROR - fail: ",f),"RB ERROR: fail"}},passWithResults:function(a,b,c,d,e){try{return this.impl.passWithResults(a,b,c,d,e)}catch(f){return k.error("RB ERROR - passWithResults: ",f),"RB ERROR: passWithResults"}},skipWithResults:function(a,b,c,d,e){try{return this.impl.skipWithResults(a,b,c,d,e)}catch(f){return k.error("RB ERROR - skipWithResults: ",f),"RB ERROR: skipWithResults"}},failWithResults:function(a,b,c,d,e){try{return this.impl.failWithResults(a,b,c,d,e)}catch(f){return k.error("RB ERROR - failWithResults: ",f),"RB ERROR: failWithResults"}}},f.prototype={constructor:f,setBuilder:function(a){this._builderImpl=a,this.builder=new e(a)},executeSuitesOnAgents:function(a,b,c){var e=this;return e._isExecuting?(c&&"function"==typeof c&&c(j.errors.EM_ALREADY_EXECUTING,null),void 0):(e._isExecuting=!0,g.spread([this,a,b],d).then(function(a){e._isExecuting=!1,e._isCancelled=!1,c&&"function"==typeof c&&c(null,a)}).fail(function(a){k.error("EXECUTION MANAGER - Unhandled Error: ",a),e._isExecuting=!1,e._isCancelled=!1,c&&"function"==typeof c&&c(j.errors.EM_UNHANDLED_EXCEPTION.customize(a),null)}).done())},executeOperationOnAgent:function(a,b,d){var e=this;return e._isExecuting?(d&&"function"==typeof d&&d(j.errors.EM_ALREADY_EXECUTING,null),void 0):(e._isExecuting=!0,g.spread([this,b,a,!1],c).then(function(a){e._isExecuting=!1,e._isCancelled=!1,d&&"function"==typeof d&&d(null,a)}).fail(function(a){k.error("EXECUTION MANAGER - Unhandled Error: ",a),e._isExecuting=!1,e._isCancelled=!1,d&&"function"==typeof d&&d(j.errors.EM_UNHANDLED_EXCEPTION.customize(a),null)}).done())},cancelExecution:function(){this._isExecuting&&(this._isCancelled=!0)}},b.exports=f},{"./ApiProtocol.js":6,"./EventEmitter.js":16,"./api.js":26,"./logger.js":32,"./q.js":34}],18:[function(a,b){var c,d=a("./logger.js"),e={},f=!1,g={start:function(a){return f?(d.debug("MessageStash is already running."),void 0):(d.debug("Starting MessageStash."),c=setInterval(function(){var b=(new Date).getTime();for(var c in e){var f=e[c];b>f.timestamp&&(d.debug("Dropping timed out message."),a(f.originalMsg,f.responseCallback),delete e[c])}},100),f=!0,void 0)},stop:function(){if(!f)return d.debug("MessageStash is already stopped."),void 0;d.debug("Stopping MessageStash."),clearInterval(c);for(var a in e){var b=e[a];d.debug("Dropping cancelled message."),b.responseCallback({error:{code:100,description:"cancelled awaiting response for message."}}),delete e[a]}f=!1},stash:function(a,b,c,d){e[a]={responseCallback:c,timestamp:(new Date).getTime()+b,originalTimeout:b,originalMsg:d}},pull:function(a){var b=e[a];return b?(delete e[a],b):null}};b.exports=g},{"./logger.js":32}],19:[function(a,b){function c(a,b,c){return{statusCode:a,wasSuccessful:b,content:c}}function d(a,b,d,e){var f;XMLHttpRequest?(f=new XMLHttpRequest,f.open(b,a,!0),f.onerror=e,f.onload=function(){var a=f.status>=200&&f.status<400,b=c(f.status,a,f.responseText);a?e(null,b):e(b)},f.send(d)):XDomainRequest?(f=new XDomainRequest,f.open(b,a),f.onerror=e,f.onload=function(){var a=f.status>=200&&f.status<400,b=c(f.status,a,f.responseText);a?e(null,b):e(b)},f.send(d)):e(new Error("CORS not supported"))}var e="https://platform.telerik.com/testing/api/teststudiojs/agentresults",f=function(){};f.prototype.postResults=function(a,b,c,f,g){var h=function(b,c){var d=a||e;return"/"!=d.substring(d.length-1,1)&&(d+="/"),d+=b,d+="?apiKey="+c,encodeURI(d)}.bind(this);d(h(b,c),"POST",f,g)},b.exports=f},{}],20:[function(a,b){function c(a){var b="",c=!1;if(a)for(var d=0;d<a.length;d++)"-"===a[d]?c=!0:c?(c=!1,b+=a[d].toUpperCase()):b+=a[d];return b}function d(a){return"window.setTimeout(function() {"+a+"}, 0);"}function e(a){return"(function() {"+a+"})(); "}function f(a,b){var c="var locX = targetElement.clientLeft + Math.floor(targetElement.clientWidth / 2);var locY = targetElement.clientTop + Math.floor(targetElement.clientHeight / 2);";return a&&(c+="locX += "+a+";"),b&&(c+="locY += "+b+";"),c}function g(a,b,c,d){return b||(b="0"),e(f(c,d)+'var e = document.createEvent("MouseEvents");e.initMouseEvent("'+a+'", true, true, window, 1, 0, 0, locX, locY, false, false, false, false, '+b+", null);targetElement.dispatchEvent(e);")}function h(){return e('if(!!targetElement.tagName.match(/^input|select|textarea$/i)){var e = document.createEvent("HTMLEvents");e.initEvent("change",true,true);targetElement.dispatchEvent(e);}')}function i(a){return e('var e = document.createEvent("UIEvents");e.initUIEvent("'+a+'", true, true, window, 1);targetElement.dispatchEvent(e);')}function j(a,b,c){return e(f(b,c)+'var tl = [ { pageX: locX, pageY: locY, target: targetElement, identifier: 0 } ];var e = document.createEvent("UIEvents");e.initUIEvent("'+a+'", true, true, window, 1);e.changedTouches = tl;e.touches = tl;targetElement.dispatchEvent(e);')}function k(){return{navigateToUrl:function(a){return'window.setTimeout(function() { window.location.href="'+a+'"; }, 0);"'+a+'"'},getUrl:"window.location.href",click:g("mousedown")+g("mouseup")+g("click"),doubleClick:g("mousedown")+g("mouseup")+g("click")+g("mousedown")+g("mouseup")+g("click")+g("dblclick"),rightClick:g("mousedown",2)+g("mouseup",2)+g("contextmenu",2),tap:j("touchstart")+g("mouseover")+g("mousemove")+g("mousedown")+j("touchend")+g("mouseup")+g("click"),dragElement:function(a,b){return g("mousedown")+g("mousemove",0,a,b)+g("mouseup")},dragElementToElement:function(a){var b=e("var dragToQuery = "+JSON.stringify(a)+';var dragToElement = FindTargetElement(dragToQuery);if (dragToElement == null) throw "Cannot find element that matches dragToQuery";return dragToElement.offsetLeft - targetElement.offsetLeft;'),c=e("var dragToQuery = "+JSON.stringify(a)+';var dragToElement = FindTargetElement(dragToQuery);if (dragToElement == null) throw "Cannot find element that matches dragToQuery";return dragToElement.offsetTop - targetElement.offsetTop;');return g("mousedown")+g("mousemove",0,b,c)+g("mouseup")},hoverOver:g("mouseover"),pressKey:function(a,b,c,d){return"var keyCode = "+a+';var eventObj = document.createEvent("Events");eventObj.initEvent("keypress", true, true);eventObj.altGraphKey = false;eventObj.altKey = '+b+";eventObj.cancelBubble = false;eventObj.charCode = keyCode;eventObj.ctrlKey = "+c+';eventObj.detail = 0;eventObj.keyCode = keyCode;eventObj.keyIdentifier = "";eventObj.layerX = 0;eventObj.layerY= 0;eventObj.metaKey = false;eventObj.pageX = 0;eventObj.pageY = 0;eventObj.shiftKey = '+d+";eventObj.which = keyCode;targetElement.dispatchEvent(eventObj);"},getAttribute:function(a){return'targetElement.getAttribute("'+a+'");'},setAttribute:function(a,b){return'targetElement.setAttribute("'+a+'", "'+b+'");targetElement.getAttribute("'+a+'");'},getStyle:function(a){return'targetElement.style["'+a+'"]'},setStyle:function(a,b){return'targetElement.style["'+a+'"]="'+b+'";'},getTextContent:"targetElement.textContent",setTextContent:function(a){return'targetElement.textContent = "'+a+'";'},getValue:"targetElement.value",setValue:function(a){return'targetElement.value = "'+a+'";'+h()},getHtml:"targetElement.innerHTML",setHtml:function(a){return'targetElement.innerHTML = "'+a+'";'},getChecked:"targetElement.checked",setChecked:function(a){var b=1==a;return"if (targetElement.checked !="+b+") {"+g("click")+"targetElement.checked ="+b+";}"},getColumnsCount:function(a){return"targetElement.rows["+a+"].cells.length"},getRowsCount:"targetElement.rows.length",getSelectedText:"var selTxts = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selTxts.push(targetElement.options[ii].text);selTxts.length == 0 ? null : selTxts.length == 1 ? selTxts[0] : selTxts",setSelectedText:function(a){return e("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(targetElement.options[ii].text) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+h()},getSelectedValue:"var selVals = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selVals.push(targetElement.options[ii].value);selVals.length == 0 ? null : selVals.length == 1 ? selVals[0] : selVals;",setSelectedValue:function(a){return e("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(targetElement.options[ii].value) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+h()},getSelectedIndex:"var selIndxs = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selIndxs.push(ii); selIndxs.length == 0 ? -1 : selIndxs.length == 1 ? selIndxs[0] : selIndxs;",setSelectedIndex:function(a){return e("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(ii) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+h()},getPaused:"targetElement.paused",setPaused:function(a){return a?"targetElement.pause()":"targetElement.play()"},getInError:"targetElement.readyState == 0"}}function l(){var a=k();return a.click=d(a.click),a.doubleClick=d(a.doubleClick),a.getStyle=function(a){return'targetElement.style["'+c(a)+'"];'},a.setStyle=function(a,b){return'targetElement.style["'+c(a)+'"] = "'+b+'";'},a}function m(){var a=k();return a.tap=g("mousemove")+g("mouseover")+i("pointerdown")+g("mousedown")+i("pointerup")+g("mouseup")+g("mouseout")+g("mouseleave")+g("click"),a}function n(){var a=k();return a}function o(){var a=k();return a}function p(a){switch(a.name){case s:return n();case t:return l();case v:return o();case u:return m();default:return k()}}function q(a){var b=a.name;if(r[b])return r[b];var c=p(a);return r[b]=c,c}var r={},s="Chrome",t="Firefox",u="MSIE",v="Safari",w={getDepot:q};b.exports=w},{}],21:[function(a,b){var c={name:"ts-automation-protocol",serverId:"server",version:"3",MT_PROTOCOL_VERSION_MIN:2,MT_PROTOCOL_VERSION_MAX:3,capabilities:{AUTOMATION_TEST_RUNNER:"automation_test_runner",AUTOMATION_EXECUTION_AGENT:"automation_execution_agent"},messages:{HS_ACCEPTED:"hs_accepted",HS_GET_CLIENT_INFO:"hs_get_client_info"},commands:{GET_CLIENTS_WITH_CAPABILITY:"get-clients-with-capability",CONNECT_SOCKETS_SERVER:"connect-sockets-server",DISCONNECT_AGENTS:"disconnect-agents",SUSPEND:"suspend"},errors:{TIMEOUT:{code:100,description:"request timed out"},RECIPIENT_ID_NOT_SPECIFIED:{code:110,description:"recipient id not specified"},RECIPIENT_NOT_FOUND:{code:120,description:"recipient not found"},RECIPIENT_NOT_AVAILABLE:{code:130,description:"the recipient exists, but is not available"},INVALID_RESUME_ID:{code:140,description:"the provided id is not valid to resume a session"},HANDSHAKE_FAILED:{code:150,description:"a step in the handshake process failed. client not connected"},HANDSHAKE_FAILED_SHARED_KEY:{code:151,description:"Provided shared key is not valid."},HANDSHAKE_FAILED_MAX_CLIENTS:{code:152,description:"Maximum number of connected clients is reached."},INVALID_MESSAGE:{code:170,description:"invalid message"},VERSION_MISMATCH:{code:180,description:"client version does not match server version"},RECIPIENT_VERSION_MISMATCH:{code:190,description:"recipient version mismatch"},INVALID_CLIENT:{code:200,description:"invalid client or client configuration"},PARAMS_NOT_PROVIDED:{code:300,description:"params were not provided"},INVALID_PARAMS:{code:301,description:"invalid params were provided"},GENERIC_ERROR:{code:500,description:"an unknown error occurred"}}};b.exports=c},{}],22:[function(a,b){var c=a("./api.js"),d=a("./CoreApi.js"),e=c.ValidateArgument,f=(c.ValidateArrayElements,{launch:function(a){return c.createCommand("wp8","wp8.launch",function(){return e(a,"string","uri",!1),{message:{cmd:"wp8.launch",params:{uri:a}}}})},wait:function(a){return d.wait("wp8","wp8.wait",a)},automateWeb:function(a,b){return b.postSetup=function(c,d){if("web"!==b.platformKey)throw new Error("Invalid operation. Operation must be a web operation.");return"undefined"!=typeof d.message?{message:{cmd:"wp8.automateWeb",params:{query:c.normalizeQuery(a),webCommand:d.message}}}:d},b}});b.exports=f},{"./CoreApi.js":12,"./api.js":26}],23:[function(a,b){function c(a){return"string"!=typeof a?a:a.replace(/"/g,"'")}function d(a){if(r)for(var b=["localhost","http://localhost","https://localhost"],c=0;c<b.length;c++)if(0===a.indexOf(b[c])){a=b[c].replace("localhost",r)+a.substring(b[c].length,a.length);break}return a}function e(a,b,c,d,e,f){return m.createCommand("web",a,function(a){return f&&f(),{message:{cmd:b,params:c(a)}}},function(a,b){if(d){var c=e(b,a);d.apply(this,c)}return m.PASS(m.createResult(o.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})}function f(a,b,c,d,e,f,g){return m.createOperation("web",a,function(a){return g&&g(),{message:{cmd:b,params:c(a)}}},function(a){return function(b,c){return c.sendMessage(a.message).then(function(a){if(m.isResponseValid(a)){if(a.result.code===o.responseCodes.SUCCESS){try{if(d){var b=e(a,c);d.apply(this,b)}}catch(f){return m.FAIL(m.createResult(o.resultTypes.EXCEPTION,f,c.getScreenshot(a)))}return m.PASS(m.createResult(o.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}return m.FAIL(m.createResult(o.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}return m.FAIL(m.createResult(o.resultTypes.REASON,"Invalid response receieved from agent."))}).fail(function(a){return m.FAIL(m.createResult(o.resultTypes.EXCEPTION,a))}).then(function(a){return a.isFailAndCannotContinue()?a:q.delay(f).then(function(){return a})})}})}function g(a,b,c,d,e,f,h){return d.sendMessage({cmd:"web.executeScript",params:{script:a,query:d.normalizeQuery(b,!0),getResult:!0}}).then(function(i){return m.isResponseValid(i)?(new Date).getTime()>=e?m.FAIL(m.createResult(o.resultTypes.REASON,"Call timed out.")):i.params.scriptResult!=c?q.delay(h).then(function(){return g(a,b,c,d,e,f,h)}):i.result.code===o.responseCodes.SUCCESS?m.PASS(m.createResult(o.resultTypes.REASON,i.result.reason,d.getScreenshot(i))):m.FAIL(m.createResult(o.resultTypes.REASON,i.result.reason,d.getScreenshot(i))):m.FAIL(m.createResult(o.resultTypes.REASON,"Invalid response receieved from agent."))}).fail(function(a){return m.FAIL(m.createResult(o.resultTypes.EXCEPTION,a))}).then(function(a){return a})}function h(a,b,c,d){return m.createCommand("web",a,function(a){var d=l.getDepot(a.platformInfo.browser),e=b(d);return{message:{cmd:"web.executeScript",params:{script:e,query:a.normalizeQuery(c,!0),getResult:!0}}}},function(a,b){return d&&d(b.params.scriptResult,a.platformInfo.browser),m.PASS(m.createResult(o.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})}function i(a,b,c,d,e){return m.createOperation("web",a,function(a){var d=l.getDepot(a.platformInfo.browser),e=b(d);return{message:{cmd:"web.executeScript",params:{script:e,query:a.normalizeQuery(c,!0),getResult:!0}}}},function(a){return function(b,c){return c.sendMessage(a.message).then(function(a){if(m.isResponseValid(a)){if(a.result.code===o.responseCodes.SUCCESS){try{d&&d(a.params.scriptResult,c.platformInfo.browser)}catch(b){return m.FAIL(m.createResult(o.resultTypes.EXCEPTION,b,c.getScreenshot(a)))}return m.PASS(m.createResult(o.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}return m.FAIL(m.createResult(o.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}return m.FAIL(m.createResult(o.resultTypes.REASON,"Invalid response receieved from agent."))}).fail(function(a){return m.FAIL(m.createResult(o.resultTypes.EXCEPTION,a))}).then(function(a){return a.isFailAndCannotContinue()?a:q.delay(e).then(function(){return a})})}})}var j=1e3,k=100,l=a("./ScriptDepotFactory.js"),m=a("./api.js"),n=a("./CoreApi.js"),o=a("./ApiProtocol.js"),p=a("./WebApiProtocol.js"),q=a("./q.js"),r=null,s=m.ValidateArgument,t=m.ValidateArrayElements,u={prepareDomain:function(a){return f("web.prepareDomain","web.prepareDomain",function(){var b=d(a);return{url:b}},null,null,j,function(){s(a,"string","url",!1)})},navigateToUrl:function(a){var b=function(b){s(a,"string","url",!1);var c=d(a);return b.navigateToUrl(c)};return i("web.navigateToUrl",b,null,null,j)
},executeScript:function(a,b,c){return e("web.executeScript","web.executeScript",function(d){return c?{script:a,query:d.normalizeQuery(b,!0),getResult:!0}:{script:a,query:d.normalizeQuery(b,!0)}},c,function(a,b){return[a.params.scriptResult,b.platformInfo.browser]},function(){s(a,"string","script",!1),s(b,"object","query",!0),s(c,"function","callback",!0)})},getScriptResult:function(a,b,c){return e("web.getScriptResult","web.executeScript",function(c){return{script:a,query:c.normalizeQuery(b,!0),getResult:!0}},c,function(a,b){return[a.params.scriptResult,b.platformInfo.browser]},function(){s(a,"string","script",!1),s(b,"object","query",!0),s(c,"function","callback",!0)})},wait:function(a){return n.wait("web","web.wait",a)},screenshot:function(){return n.screenshot("ios;android","web.screenshot")},waitForScriptResult:function(a,b,c,d,e){return m.createOperation("web","web.waitForScriptResult",function(){return s(a,"string","script",!1),s(b,"object","query",!0),s(d,"number","timeout",!1),s(e,"number","checkInterval",!0),""},function(){return function(f,h){var i=(new Date).getTime()+d;return g(a,b,c,h,i,null,e||k)}})},waitForUrl:function(a,b,c){return m.createOperation("web","web.waitForUrl",function(){return s(a,"string","url",!1),s(b,"number","timeout",!0),s(c,"number","checkInterval",!0),""},function(){return function(e,f){var h=d(a),i=l.getDepot(f.platformInfo.browser),j=i.getUrl,m=(new Date).getTime()+b;return g(j,null,h,f,m,null,c||k)}})},click:function(a){var b=function(b){return s(a,"object","query",!1),b.click};return h("web.click",b,a,null)},tap:function(a){var b=function(b){return s(a,"object","query",!1),b.tap};return h("web.tap",b,a,null)},doubleClick:function(a){var b=function(b){return s(a,"object","query",!1),b.doubleClick};return h("web.doubleClick",b,a,null)},rightClick:function(a){var b=function(b){return s(a,"object","query",!1),b.rightClick};return h("web.rightClick",b,a,null)},drag:function(a,b,c){var d=function(d){return s(a,"object","query",!1),s(b,"number","offsetX",!1),s(c,"number","offsetY",!1),d.dragElement(b,c)};return h("web.drag",d,a,null)},dragToElement:function(a,b){var c=function(c){return s(a,"object","dragElementQuery",!1),s(b,"object","toElementQuery",!1),c.dragElementToElement(b)};return h("web.dragToElement",c,a,null)},hoverOver:function(a){var b=function(b){return s(a,"object","query",!1),b.hoverOver};return h("web.hoverOver",b,a,null)},pressKey:function(a,b,c,d,e){var f=function(f){return s(a,"object","query",!1),"string"==typeof b&&(b=b.charCodeAt(0)),s(b,"number","keyCode",!1),s(c,"boolean","alt",!0),c=c?!0:!1,s(d,"boolean","ctrl",!0),d=d?!0:!1,s(e,"boolean","shift",!0),e=e?!0:!1,f.pressKey(b,c,d,e)};return h("web.pressKey",f,a,null)},getAttribute:function(a,b,c){var d=function(d){return s(a,"object","query",!1),s(b,"string","attrName",!1),s(c,"function","callback",!0),d.getAttribute(b)};return h("web.getAttribute",d,a,c)},setAttribute:function(a,b,d){var e=function(e){return s(a,"object","query",!1),s(b,"string","attrName",!1),s(d,"string","attrValue",!1),e.setAttribute(b,c(d))};return h("web.setAttribute",e,a,null)},getStyle:function(a,b,c){var d=function(d){return s(a,"object","query",!1),s(b,"string","styleProp",!1),s(c,"function","callback",!0),d.getStyle(b)};return h("web.getStyle",d,a,c)},setStyle:function(a,b,c){var d=function(d){return s(a,"object","query",!1),s(b,"string","styleProp",!1),s(c,"string","styleValue",!1),d.setStyle(b,c)};return h("web.setStyle",d,a,null)},getTextContent:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getTextContent};return h("web.getTextContent",c,a,b)},setTextContent:function(a,b){var d=function(d){return s(a,"object","query",!1),s(b,"string","textContentValue",!1),d.setTextContent(c(b))};return h("web.setTextContent",d,a,null)},getValue:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getValue};return h("web.getValue",c,a,b)},setValue:function(a,b){var d=function(d){return s(a,"object","query",!1),s(b,"string","value",!1),d.setValue(c(b))};return h("web.setValue",d,a,null)},getHtml:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getHtml};return h("web.getHtml",c,a,b)},setHtml:function(a,b){var d=function(d){return s(a,"object","query",!1),s(b,"string","content",!1),d.setHtml(c(b))};return h("web.setHtml",d,a,null)},getChecked:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getChecked};return h("web.getChecked",c,a,b)},setChecked:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"boolean","checkedValue",!1),c.setChecked(b)};return h("web.setChecked",c,a,null)},getRowsCount:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getRowsCount};return h("web.getRowsCount",c,a,b)},getColumnsCount:function(a,b,c){var d=function(d){return s(a,"object","query",!1),s(b,"number","rowIndex",!1),s(c,"function","callback",!0),d.getColumnsCount(b)};return h("web.getColumnsCount",d,a,c)},getSelectedIndex:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getSelectedIndex};return h("web.getSelectedIndex",c,a,b)},setSelectedIndex:function(a,b){var c=function(c){s(a,"object","query",!1),Array.isArray(b)||(s(b,"number","index",!1),b=[b]),t(b,"number","index");var d="["+b.toString()+"]";return c.setSelectedIndex(d)};return h("web.setSelectedIndex",c,a,null)},getSelectedText:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getSelectedText};return h("web.getSelectedText",c,a,b)},setSelectedText:function(a,b){var d=function(d){s(a,"object","query",!1),Array.isArray(b)||(s(b,"string","text",!1),b=[b]),t(b,"string","text");for(var e="[",f=0;f<b.length;f++)e+='"'+c(b[f])+'",';return e+="]",d.setSelectedText(e)};return h("web.setSelectedText",d,a,null)},getSelectedValue:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getSelectedValue};return h("web.getSelectedValue",c,a,b)},setSelectedValue:function(a,b){var d=function(d){s(a,"object","query",!1),Array.isArray(b)||(s(b,"string","selValue",!1),b=[b]),t(b,"string","selValue");for(var e="[",f=0;f<b.length;f++)e+='"'+c(b[f])+'",';return e+="]",d.setSelectedValue(e)};return h("web.setSelectedValue",d,a,null)},getPaused:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getPaused};return h("web.getPaused",c,a,b)},setPaused:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"boolean","pausedState",!1),c.setPaused(b)};return h("web.setPaused",c,a,null)},getInError:function(a,b){var c=function(c){return s(a,"object","query",!1),s(b,"function","callback",!0),c.getInError};return h("web.getInError",c,a,b)},dialogs:{ALERT:p.dialogs.ALERT,CONFIRM:p.dialogs.CONFIRM,PROMPT:p.dialogs.PROMPT,prepare:function(a,b){return e("web.dialogs.prepare","web.dialogs.prepare",function(){return{key:a,options:b}},null,null,function(){s(a,"string","key",!1),s(b,"object","options",!0)})},getState:function(a){return e("web.dialogs.getState","web.dialogs.getState",function(){return null},a,function(a,b){return[a.params.dialogsState,b.platformInfo.browser]},function(){s(a,"function","callback",!0)})}}};Object.defineProperty(u,"localhostAlias",{get:function(){return r},set:function(a){r=a}}),b.exports=u},{"./ApiProtocol.js":6,"./CoreApi.js":12,"./ScriptDepotFactory.js":20,"./WebApiProtocol.js":24,"./api.js":26,"./q.js":34}],24:[function(a,b){var c={dialogs:{ALERT:"alert_dialog",CONFIRM:"confirm_dialog",PROMPT:"prompt_dialog"},responseCodes:{SUCCESS:100,FAILURE:200},commands:{PREPARE_DOMAIN:"web.prepareDomain",EXECUTE_SCRIPT:"web.executeScript",DIALOGS_PREPARE:"web.dialogs.prepare",DIALOGS_GET_STATE:"web.dialogs.getState"}};b.exports=c},{}],25:[function(a,b){function c(a,b){this._address=a,this.defaultTimeout=b,d.call(this)}var d=a("./EventEmitter.js"),e=a("./logger.js");c.prototype={constructor:c,start:function(){if(!("WebSocket"in window))throw new Error("Browser does not support WebSockets.");this.websocket||(this.websocket=new WebSocket(this._address,"ts-automation-protocol"),this.websocket.onopen=function(){this.emit("connect")}.bind(this),this.websocket.onmessage=function(a){a&&a.data?this.emit("message",a.data):e.error("Error: Invalid message type received. Ignoring it.")}.bind(this),this.websocket.onclose=function(){this.emit("close"),this.websocket=null}.bind(this))},stop:function(){this.websocket&&(this.websocket.close(),this.websocket=null)},sendMessage:function(a){this.websocket&&this.websocket.send(a)}},b.exports=c},{"./EventEmitter.js":16,"./logger.js":32}],26:[function(a,b){function c(a,b){this.type=a,this.name=b,this.parent=null,this.children=[]}function d(a,b,c,d){this.platformKey=a,this.name=b,this.setupFunc=c,this.operationFunc=d}function e(a,b,c){this.status=a,this.outputResult=b,this.stopTestRun=c}function f(a){return!!(a&&a.result&&a.result.code&&a.result.reason)}function g(a,b,c,e){return new d(a,b,c,e)}function h(a,b,c,d,e){var h=function(a){return function(b,c){return c.sendMessage(a.message,a.options).then(function(a){if(!f(a))return q(i(m.resultTypes.REASON,"Invalid response receieved from agent.",c.getScreenshot(a)));if(a.result.code===m.responseCodes.SUCCESS)try{return d?d(c,a):o(i(m.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}catch(b){return q(i(m.resultTypes.EXCEPTION,b,c.getScreenshot(a)))}else try{return e?e(c,a):q(i(m.resultTypes.REASON,a.result.reason,c.getScreenshot(a)))}catch(b){return q(i(m.resultTypes.EXCEPTION,b,c.getScreenshot(a)))}})}};return g(a,b,c,h)}function i(a,b,c){return{type:a,value:b,screenshot:c}}function j(a,b,c,d,e,f){if(null===a||void 0===a){if(d)return!1;throw new Error('Argument "'+c+'" cannot be undefined or null.')}var g=typeof a;if(g!==b)throw new Error('Argument "'+c+'" should be of type '+b+", not "+g+".");if("number"===b){if(null!==e&&void 0!==e&&e>a)throw null!==f&&void 0!==f?new Error('Argument "'+c+'" should be a value greater than or equal to '+e+" and less than or equal to "+f+"."):new Error('Argument "'+c+'" should be a value greater than or equal to '+e+".");if(null!==f&&void 0!==f&&a>f)throw null!==e&&void 0!==e?new Error('Argument "'+c+'" should be a value greater than or equal to '+e+" and less than or equal to "+f+"."):new Error('Argument "'+c+'" should be a value less than or equal to '+f+".")}return!0}function k(a,b,c){if(!Array.isArray(a))throw new Error('Argument "'+c+'" should be array, not '+typeof a+".");a.forEach(function(a){if(typeof a!==b)throw new Error('Argument "'+c+'" should contain only elements of type '+b)})}var l=a("./q.js"),m=a("./ApiProtocol.js"),n=a("./TsAutomationProtocol.js");c.prototype={constructor:c,getChildren:function(){return this.children},addChild:function(a){a.parent=this,this.children.push(a)}},d.prototype={constructor:d,postSetup:function(a,b){return a.tryWrapAutomateWeb(this,b)},execute:function(a,b){return l().then(function(){if(!b.validatePlatformKey(this.platformKey))return q(i(m.resultTypes.INVALID_AGENT,"Operation for "+this.platformKey+" could not execute on "+b.platformInfo.platformKey));var c=this.setupFunc(b);c=this.postSetup(b,c);var d=this.operationFunc(c);return l.spread([a,b],d)}.bind(this)).fail(function(a){return q(i(m.resultTypes.EXCEPTION,a))})}},e.prototype={constructor:e,isPass:function(){return this.status===m.statuses.PASS},isSkip:function(){return this.status===m.statuses.SKIP},isFail:function(){return this.status===m.statuses.FAIL},isFailAndCannotContinue:function(){return this.outputResult&&this.outputResult.type&&this.outputResult.type===m.resultTypes.EXCEPTION&&this.outputResult.value&&this.outputResult.value.error&&this.outputResult.value.code&&(this.outputResult.value.error.code===n.errors.RECIPIENT_NOT_FOUND.code||this.outputResult.value.error.code===n.errors.RECIPIENT_VERSION_MISMATCH.code)?!0:!1}};var o=function(a,b){return new e(m.statuses.PASS,a,b)},p=function(a,b){return new e(m.statuses.SKIP,a,b)},q=function(a,b){return new e(m.statuses.FAIL,a,b)},r={TSNode:c,Operation:d,ValidateArgument:j,ValidateArrayElements:k,createOperation:g,createCommand:h,createResult:i,isResponseValid:f,PASS:o,SKIP:p,FAIL:q};b.exports=r},{"./ApiProtocol.js":6,"./TsAutomationProtocol.js":21,"./q.js":34}],27:[function(a,b){var c=a("./TsAutomationProtocol.js"),d=a("./AutomationMessage.js"),e=a("./utils.js"),f={messageWithJSONString:function(a){try{var b=JSON.parse(a),c=new d(b.id,b.responseToMessageId,b.fromId,b.toId,b.data);return c}catch(e){throw new Error("JSON string is invalid for conversion to an AutomationMessage object.")}},messageToIdWithPayload:function(a,b){return new d(e.uuid(),null,null,a,b)},messageToIdFromIdWithPayload:function(a,b,c){return new d(e.uuid(),null,b,a,c)},getClientsWithCapabilitiesPayload:function(a){return{cmd:c.commands.GET_CLIENTS_WITH_CAPABILITY,params:{capabilities:a}}},getConnectSocketsServerPayload:function(a,b,d){return{cmd:c.commands.CONNECT_SOCKETS_SERVER,params:{address:a,sharedKey:b,timeout:d}}},getDisconnectAgentsPayload:function(a,b){return{cmd:c.commands.DISCONNECT_AGENTS,params:{agentIds:a,sharedKey:b}}},getAgentAddedPayload:function(a,b,c){return{cmd:"agentAdded",params:{agent:{id:a,platformInfo:b,capabilities:c}}}},getAgentRemovedPayload:function(a){return{cmd:"agentRemoved",params:{id:a}}},failurePayloadWithReason:function(a){return{result:{code:200,reason:a}}},successPayload:function(){return{result:{code:100,reason:"success"}}},successPayloadWithReason:function(a){return{result:{code:100,reason:a}}},successPayloadWithCustomParams:function(a){return{result:{code:100,reason:"success",params:a}}},errorPayloadWithError:function(a){return{error:a}}};b.exports=f},{"./AutomationMessage.js":9,"./TsAutomationProtocol.js":21,"./utils.js":35}],28:[function(a,b){function c(){var a=0,b=/MSIE (\d+\.\d+);/.test(navigator.userAgent),c=!!navigator.userAgent.match(/Trident\/7.0/),d=navigator.userAgent.indexOf("rv:11.0");return b&&(a=new Number(RegExp.$1)),-1!=navigator.appVersion.indexOf("MSIE 10")&&(a=10),c&&-1!=d&&(a=11),a}function d(){var a,b=navigator.appName,d=navigator.userAgent,e=d.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);e&&null!==(a=d.match(/version\/([\.\d]+)/i))&&(e[2]=a[1]),e=e?[e[1],e[2]]:[b,navigator.appVersion,"-?"];var f=c();0!=f&&(e[0]="MSIE",e[1]=f);var g="Unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(g="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(g="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(g="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(g="Linux"),-1!=navigator.appVersion.indexOf("iPhone OS")&&(g="iOS"),-1!=navigator.appVersion.indexOf("Android")&&(g="Android"),-1!=navigator.appVersion.indexOf("Windows Phone")&&(g="Windows Phone"),{name:e[0],version:e[1],os:g}}var e=(a("./TsAutomationProtocol.js"),{create:function(a){var b=d(),c={version:a.toString(),platformInfo:{platformKey:"web",name:b.name,platform:navigator.platform,system:b.os,systemVersion:"",browser:{name:b.name,version:b.version}},identity:{sharedKey:null}};return c}});b.exports=e},{"./TsAutomationProtocol.js":21}],29:[function(a,b){var c="ws://localhost:8081",d=2e4,e="5e2e79fa-a3b3-9b65-a9ee-dafa1d83fc68",f={version:"2.5.0",protocolVersion:"3",messageServerUrl:c,messageServerPort:c.split(":")[2],messageTimeout:d,sharedKey:e};b.exports=f},{}],30:[function(a,b){var c=a("./TsAutomationProtocol.js"),d=a("./WebSocketClientProvider.js"),e=a("./AutomationStates.js").NormalHandshakeStart,f={createParams:function(a,b){return{provider:new d(a,b),startState:new e([c.capabilities.AUTOMATION_TEST_RUNNER])}}};b.exports=f},{"./AutomationStates.js":10,"./TsAutomationProtocol.js":21,"./WebSocketClientProvider.js":25}],31:[function(a,b){var c=a("./api.js"),d=a("./config.js"),e=a("./ApiProtocol.js"),f=a("./CoreApi.js"),g=a("./q.js"),h=c.ValidateArgument,i=(c.ValidateArrayElements,10),j=3,k=1e3,l=3,m={tapType:{center:0,atLocation:1,centerLeft:2,centerRight:3,tapAndHold:4,auto:5},keyType:{none:0,"return":1,enter:2,dismiss:3},pinchType:{pinchIn:0,pinchOut:1},dragType:{dragToPoint:0,dragToDisplacement:1}},n=function(a,b,d,e,f,g){return c.createCommand("ios",a,function(a){h(b,"object","query",!1);var c={query:a.normalizeQuery(b),tapType:m.tapType.auto};return h(d,"object","point",!0)&&(h(d.x,"number","point.x",!1),h(d.y,"number","point.y",!1),c.point={x:d.x,y:d.y}),h(e,"number","tapCount",!0,1)&&(c.tapCount=e),h(f,"number","tapDownDelay",!0,1)&&(c.tapDownDelay=f),h(g,"number","tapUpDelay",!0,1)&&(c.tapUpDelay=g),{message:{cmd:"ios.tap",params:c}}})},o=function(a,b,e,f,g,l){return c.createCommand("ios",a,function(a){h(e,"object","query",!1);var c={query:a.normalizeQuery(e),pinchType:b};h(f,"object","point",!0)&&(h(f.x,"number","point.x",!1),h(f.y,"number","point.y",!1),c.point={x:f.x,y:f.y}),h(g,"number","distance",!0,1)&&(c.distance=g);var m=0;return h(l,"number","steps",!0,j,k)&&(c.steps=l,m=i*l),{message:{cmd:"ios.pinch",params:c},options:{timeout:d.messageTimeout+m}}})},p=function(a,b,e,f,g,l,m){return c.createCommand("ios",a,function(a){h(e,"object","query",!1);var c={query:a.normalizeQuery(e),dragType:b};h(f,"object","fromPoint",!0)&&(h(f.x,"number","fromPoint.x",!1),h(f.y,"number","fromPoint.y",!1),c.fromPoint={x:f.x,y:f.y}),h(g,"object",l,!0)&&(h(g.x,"number",l+".x",!1),h(g.y,"number",l+".y",!1),c.toPoint={x:g.x,y:g.y});var n=0;return h(m,"number","steps",!0,j,k)&&(c.steps=m,n=i*m),{message:{cmd:"ios.drag",params:c},options:{timeout:d.messageTimeout+n}}})},q=function(a,b,d,f,h,i){return f.sendMessage(a).then(function(j){return c.isResponseValid(j)?(new Date).getTime()>=h?c.FAIL(c.createResult(e.resultTypes.REASON,"Timeout.")):j.params[b]!=d?g.delay(i).then(function(){return q(a,b,d,f,h,i)}):j.result.code===e.responseCodes.SUCCESS?c.PASS(c.createResult(e.resultTypes.REASON,j.result.reason,f.getScreenshot(j))):c.FAIL(c.createResult(e.resultTypes.REASON,j.result.reason,f.getScreenshot(j))):c.FAIL(c.createResult(e.resultTypes.REASON,"Invalid response received from agent."))}).fail(function(a){return c.FAIL(c.createResult(e.resultTypes.EXCEPTION,a))}).then(function(a){return a})},r={constants:{tableViewScrollPosition:{none:0,top:1,middle:2,bottom:3},collectionViewScrollPosition:{none:0,top:1,centeredVertically:2,bottom:4,left:8,centeredHorizontally:16,right:32},swipeDirection:{right:0,left:1,up:2,down:3}},launch:function(a){return c.createCommand("ios","ios.launch",function(){return h(a,"string","url",!1),{message:{cmd:"ios.launch",params:{url:a}}}})},close:function(){return c.createCommand("ios","ios.close",function(){return{message:{cmd:"ios.close"}}})},wait:function(a){return f.wait("ios","ios.wait",a)},screenshot:function(){return f.screenshot("ios","ios.screenshot")},getPropertyValue:function(a,b,d){return c.createCommand("ios","ios.getPropertyValue",function(c){return h(a,"object","query",!1),h(b,"string","property",!1),h(d,"function","valueCallback",!1),{message:{cmd:"ios.getValue",params:{query:c.normalizeQuery(a),property:b}}}},function(a,b){return d&&d(b.params.value),c.PASS(c.createResult(e.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})},elementExists:function(a,b){return c.createCommand("ios","ios.elementExists",function(c){return h(a,"object","query",!1),h(b,"function","existsCallback",!1),{message:{cmd:"ios.elementExists",params:{query:c.normalizeQuery(a)}}}},function(a,d){return b&&b(d.params.exists),c.PASS(c.createResult(e.resultTypes.REASON,d.result.reason,a.getScreenshot(d)))})},elementVisible:function(a,b){return c.createCommand("ios","ios.elementVisible",function(c){return h(a,"object","query",!1),h(b,"function","visibleCallback",!1),{message:{cmd:"ios.elementVisible",params:{query:c.normalizeQuery(a)}}}},function(a,d){return b&&b(d.params.isVisible),c.PASS(c.createResult(e.resultTypes.REASON,d.result.reason,a.getScreenshot(d)))})},tap:function(a,b,c,d){return n("ios.tap",a,null,b,c,d)},tapAtPoint:function(a,b,c,d,e){return n("ios.tapAtPoint",a,b,c,d,e)},tapAtLocation:function(a,b,d){return c.createCommand("ios","ios.tapAtLocation",function(c){return h(a,"object","query",!1),h(b,"number","x",!1),h(d,"number","y",!1),{message:{cmd:"ios.tap",params:{query:c.normalizeQuery(a),tapType:m.tapType.atLocation,point:{x:b,y:d}}}}})},tapAndHold:function(a){return c.createCommand("ios","ios.tapAndHold",function(b){return h(a,"object","query",!1),{message:{cmd:"ios.tap",params:{query:b.normalizeQuery(a),tapType:m.tapType.tapAndHold}}}})},tapCenterLeft:function(a){return c.createCommand("ios","ios.tapCenterLeft",function(b){return h(a,"object","query",!1),{message:{cmd:"ios.tap",params:{query:b.normalizeQuery(a),tapType:m.tapType.centerLeft}}}})},tapCenterRight:function(a){return c.createCommand("ios","ios.tapCenterRight",function(b){return h(a,"object","query",!1),{message:{cmd:"ios.tap",params:{query:b.normalizeQuery(a),tapType:m.tapType.centerRight}}}})},tapSubviewAtIndex:function(a,b){return c.createCommand("ios","ios.tapSubviewAtIndex",function(c){return h(a,"object","query",!1),h(b,"number","index",!1,0),{message:{cmd:"ios.selectionItem.select",params:{query:c.normalizeQuery(a),index:b}}}})},swipe:function(a,b){return c.createCommand("ios","ios.swipe",function(c){if(h(a,"object","query",!1),h(b,"number","direction",!1),0>b||b>l)throw new Error("Invalid direction specified.");return{message:{cmd:"ios.swipe",params:{query:c.normalizeQuery(a),direction:b}}}})},pinchIn:function(a,b,c,d){return o("ios.pinchIn",m.pinchType.pinchIn,a,b,c,d)},pinchOut:function(a,b,c,d){return o("ios.pinchOut",m.pinchType.pinchOut,a,b,c,d)},twoFingerRotate:function(a,b,d){return c.createCommand("ios","ios.twoFingerRotate",function(c){h(a,"object","query",!1);var e={query:c.normalizeQuery(a)};return h(b,"object","point",!0)&&(h(b.x,"number","point.x",!1),h(b.y,"number","point.y",!1),e.point={x:b.x,y:b.y}),h(d,"number","angleInDegrees",!1),e.angleInDegrees=d,{message:{cmd:"ios.rotate",params:e}}})},dragToPoint:function(a,b,c,d){return p("ios.dragToPoint",m.dragType.dragToPoint,a,b,c,"toPoint",d)},dragToDisplacement:function(a,b,c,d){return p("ios.dragToDisplacement",m.dragType.dragToDisplacement,a,b,c,"toDisplacement",d)},setText:function(a,b){return c.createCommand("ios","ios.setText",function(c){return h(a,"object","query",!1),h(b,"string","text",!0),{message:{cmd:"ios.text.setText",params:{query:c.normalizeQuery(a),text:b,typeText:!1}}}})},setDate:function(a,b){return c.createCommand("ios","ios.setDate",function(c){return h(a,"object","query",!1),h(b,"object","date",!1),{message:{cmd:"ios.setDate",params:{query:c.normalizeQuery(a),date:b.toISOString(),date_local:b.toLocalISOString()}}}})},scrollToRow:function(a,b,d,e){return c.createCommand("ios","ios.scrollToRow",function(c){return h(a,"object","query",!1),h(b,"number","row",!1,0),h(d,"number","section",!1,0),h(e,"number","tvScrollPos",!0)||(e=0),{message:{cmd:"ios.scrollToRow",params:{query:c.normalizeQuery(a),row:b,section:d,tvScrollPos:e}}}})},selectRow:function(a,b,d){return c.createCommand("ios","ios.selectRow",function(c){return h(a,"object","query",!1),h(b,"number","row",!1,0),h(d,"number","section",!1,0),{message:{cmd:"ios.selectRow",params:{query:c.normalizeQuery(a),row:b,section:d}}}})},dragCellToIndexPath:function(a,b,d,e,f){return c.createCommand("ios","ios.dragCellToIndexPath",function(c){return h(a,"object","query",!1),h(b,"number","fromRow",!1,0),h(d,"number","fromSection",!1,0),h(e,"number","toRow",!1,0),h(f,"number","toSection",!1,0),{message:{cmd:"ios.dragCellToIndexPath",params:{query:c.normalizeQuery(a),fromRow:b,fromSection:d,toRow:e,toSection:f}}}})},scrollToItem:function(a,b,d,e){return c.createCommand("ios","ios.scrollToItem",function(c){return h(a,"object","query",!1),h(b,"number","item",!1,0),h(d,"number","section",!1,0),h(e,"number","cvScrollPos",!0)||(e=0),{message:{cmd:"ios.scrollToItem",params:{query:c.normalizeQuery(a),item:b,section:d,cvScrollPos:e}}}})},selectItem:function(a,b,d){return c.createCommand("ios","ios.selectItem",function(c){return h(a,"object","query",!1),h(b,"number","item",!1,0),h(d,"number","section",!1,0),{message:{cmd:"ios.selectItem",params:{query:c.normalizeQuery(a),item:b,section:d}}}})},selectRowInComponent:function(a,b,d){return c.createCommand("ios","ios.selectRowInComponent",function(c){return h(a,"object","query",!1),h(b,"number","row",!1,0),h(d,"number","component",!1,0),{message:{cmd:"ios.selectRowInComponent",params:{query:c.normalizeQuery(a),row:b,component:d}}}})},toggle:function(a,b){return c.createCommand("ios","ios.toggle",function(c){return h(a,"object","query",!1),h(b,"boolean","toggleValue",!1),{message:{cmd:"ios.toggle",params:{query:c.normalizeQuery(a),toggleValue:b}}}})},setValue:function(a,b,e){return c.createCommand("ios","ios.range.setValue",function(c){h(a,"object","query",!1),h(b,"number","value",!1),h(e,"number","newTimeout",!0);var f=d.messageTimeout;return isNaN(e)||(f=e),{message:{cmd:"ios.range.setValue",params:{query:c.normalizeQuery(a),value:b}},options:{timeout:f}}})},typeText:function(a,b,e){return c.createCommand("ios","ios.typeText",function(c){h(a,"object","query",!1),h(b,"string","text",!1),h(e,"number","keyDelay",!0),isNaN(e)&&(e=100);var f=b.length*e+d.messageTimeout;return{message:{cmd:"ios.typeText",params:{query:c.normalizeQuery(a),strValue:b,keyDelay:e/1e3}},options:{timeout:f}}})},pressReturn:function(){return c.createCommand("ios","ios.pressReturn",function(a){return{message:{cmd:"ios.pressKey",params:{query:a.normalizeQuery({"class":"UIKeyboardLayoutStar"}),keyType:m.keyType["return"]}}}})},pressDismiss:function(){return c.createCommand("ios","ios.pressDismiss",function(a){return{message:{cmd:"ios.pressKey",params:{query:a.normalizeQuery({"class":"UIKeyboardLayoutStar"}),keyType:m.keyType.dismiss}}}})},automateWeb:function(a,b){return b.postSetup=function(c,d){if("web"!==b.platformKey)throw new Error("Invalid operation. Operation must be a web operation.");return"undefined"!=typeof d.message?{message:{cmd:"ios.automateWeb",params:{query:c.normalizeQuery(a),webCommand:d.message}}}:d},b},waitForElementExists:function(a,b,d,e){return c.createOperation("ios","ios.waitForElementExists",function(){if(h(a,"object","query",!1),h(b,"boolean","exists",!1),h(d,"number","checkInterval",!1,0),h(e,"number","timeout",!1,0),d>e)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(c,f){var g=(new Date).getTime()+e,h={cmd:"ios.elementExists",params:{query:f.normalizeQuery(a)}};return q(h,"exists",b,f,g,d)}})},waitForElementVisible:function(a,b,d,e){return c.createOperation("ios","ios.waitForElementVisible",function(){if(h(a,"object","query",!1),h(b,"boolean","visible",!1),h(d,"number","checkInterval",!1,0),h(e,"number","timeout",!1,0),d>e)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(c,f){var g=(new Date).getTime()+e,h={cmd:"ios.elementVisible",params:{query:f.normalizeQuery(a)}};return q(h,"isVisible",b,f,g,d)}})},waitForPropertyValue:function(a,b,d,e,f){return c.createOperation("ios","ios.waitForPropertyValue",function(){if(h(a,"object","query",!1),h(b,"string","property",!1),h(e,"number","checkInterval",!1,0),h(f,"number","timeout",!1,0),e>f)throw new Error("Argument checkInterval cannot be greater than argument timeout.");return""},function(){return function(c,g){var h=(new Date).getTime()+f,i={cmd:"ios.getValue",params:{query:g.normalizeQuery(a),property:b}};return q(i,"value",d,g,h,e)}})}};b.exports=r},{"./ApiProtocol.js":6,"./CoreApi.js":12,"./api.js":26,"./config.js":29,"./q.js":34}],32:[function(a,b){function c(a,b){a>=e&&console.log(b)}var d={DEBUG:0,TRACE:1,INFO:2,WARN:3,ERROR:4,FATAL:5},e=d.FATAL,f={levels:d,setLevel:function(a){e=a},getLevel:function(){return e},debug:function(){c(f.levels.DEBUG,arguments)},trace:function(){c(f.levels.TRACE,arguments)},info:function(){c(f.levels.INFO,arguments)},warn:function(){c(f.levels.WARN,arguments)},error:function(){c(f.levels.ERROR,arguments)},fatal:function(){c(f.levels.FATAL,arguments)}};b.exports=f},{}],33:[function(a,b){function c(){Date.prototype.toLocalISOString||!function(){function a(a){return 10>a?"0"+a:a}Date.prototype.toLocalISOString=function(){return this.getFullYear()+"-"+a(this.getMonth()+1)+"-"+a(this.getDate())+" "+a(this.getHours())+":"+a(this.getMinutes())+":"+a(this.getSeconds())+"."+(this.getMilliseconds()/1e3).toFixed(3).slice(2,5)}}()}var d={install:function(){c()}};b.exports=d},{}],34:[function(a,b,c){(function(a){var d;!function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof c)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else d=a()}(function(){"use strict";function b(a){var b=Function.call;return function(){return b.apply(a,arguments)}}function c(a){return a===Object(a)}function d(a){return"[object StopIteration]"===tb(a)||a instanceof ib}function e(a,b){if(fb&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(vb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+vb+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===hb&&d>=jb&&Bb>=d}function j(){if(fb)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return hb=d[0],d[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return C(a)}function m(){function a(a){b=a,f.source=a,nb(c,function(b,c){lb(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=qb(m.prototype),f=qb(o.prototype);if(f.promiseDispatch=function(a,e,f){var g=mb(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):lb(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=k(function(){if(c)return f;var a=p(b);return q(a)&&(b=a),a},"valueOf","inspect"),f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&fb)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(C(c))},e.fulfill=function(c){b||a(B(c))},e.reject=function(c){b||a(A(c))},e.notify=function(a){b||nb(d,function(b,c){lb(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();return P(a,b.resolve,b.reject,b.notify).fail(b.reject),b.promise}function o(a,b,c){void 0===b&&(b=function(a){return A(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=qb(o.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=A(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=k(function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value})}return d}function p(a){if(q(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function q(a){return c(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function r(a){return c(a)&&"function"==typeof a.then}function s(a){return q(a)&&"pending"===a.inspect().state}function t(a){return!q(a)||"fulfilled"===a.inspect().state}function u(a){return q(a)&&"rejected"===a.inspect().state}function v(){yb||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",wb),yb=!0
}function w(){for(var a=0;a<wb.length;a++){var b=wb[a];b&&"undefined"!=typeof b.stack?console.warn("Unhandled rejection reason:",b.stack):console.warn("Unhandled rejection reason (no stack):",b)}}function x(){wb.length=0,xb.length=0,yb=!1,zb||(zb=!0,"undefined"!=typeof a&&a.on&&a.on("exit",w))}function y(a,b){zb&&(xb.push(a),wb.push(b),v())}function z(a){if(zb){var b=ob(xb,a);-1!==b&&(xb.splice(b,1),wb.splice(b,1))}}function A(a){var b=o({when:function(b){return b&&z(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return y(b,a),b}function B(a){return o({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return sb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function C(a){return q(a)?a:r(a)?D(a):B(a)}function D(a){var b=m();return lb(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function E(a){return o({isDef:function(){}},function(b,c){return L(a,b,c)},function(){return C(a).inspect()})}function F(a,b,c,d){return l(a).then(b,c,d)}function G(a,b,c){return F(a,function(a){return R(a).then(function(a){return b.apply(void 0,a)},c)},c)}function H(a){return function(){function b(a,b){var g;if(ub){try{g=c[a](b)}catch(h){return A(h)}return g.done?g.value:F(g.value,e,f)}try{g=c[a](b)}catch(h){return d(h)?h.value:A(h)}return F(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"send"),f=b.bind(b,"throw");return e()}}function I(a){l.done(l.async(a)())}function J(a){throw new ib(a)}function K(a){return function(){return G([this,R(arguments)],function(b,c){return a.apply(b,c)})}}function L(a,b,c){var d=m();return lb(function(){C(a).promiseDispatch(d.resolve,b,c)}),d.promise}function M(a){return function(b){var c=mb(arguments,1);return L(b,a,c)}}function N(a,b){var c=mb(arguments,2);return Ab(a,b,c)}function O(a,b){return L(a,"apply",[void 0,b])}function P(a){var b=mb(arguments,1);return O(a,b)}function Q(a){var b=mb(arguments,1);return function(){var c=b.concat(mb(arguments));return L(a,"apply",[this,c])}}function R(a){return F(a,function(a){var b=0,c=m();return nb(a,function(d,e,f){var g;q(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,F(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject))},void 0),0===b&&c.resolve(a),c.promise})}function S(a){return F(a,function(a){return a=pb(a,C),F(R(pb(a,function(a){return F(a,kb,kb)})),function(){return a})})}function T(a){return F(a,function(a){return R(pb(a,function(b,c){return F(b,function(b){return a[c]={state:"fulfilled",value:b},a[c]},function(b){return a[c]={state:"rejected",reason:b},a[c]})})).thenResolve(a)})}function U(a,b){return F(a,void 0,b)}function V(a,b){return F(a,void 0,void 0,b)}function W(a,b){return F(a,function(a){return F(b(),function(){return a})},function(a){return F(b(),function(){return A(a)})})}function X(b,c,d,f){var g=function(a){lb(function(){if(e(a,b),!l.onerror)throw a;l.onerror(a)})},h=c||d||f?F(b,c,d,f):b;"object"==typeof a&&a&&a.domain&&(g=a.domain.bind(g)),U(h,g)}function Y(a,b,c){var d=m(),e=setTimeout(function(){d.reject(new Error(c||"Timed out after "+b+" ms"))},b);return F(a,function(a){clearTimeout(e),d.resolve(a)},function(a){clearTimeout(e),d.reject(a)},d.notify),d.promise}function Z(a,b){void 0===b&&(b=a,a=void 0);var c=m();return F(a,void 0,void 0,c.notify),setTimeout(function(){c.resolve(a)},b),c.promise}function $(a,b){var c=mb(b),d=m();return c.push(d.makeNodeResolver()),O(a,c).fail(d.reject),d.promise}function _(a){var b=mb(arguments,1),c=m();return b.push(c.makeNodeResolver()),O(a,b).fail(c.reject),c.promise}function ab(a){var b=mb(arguments,1);return function(){var c=b.concat(mb(arguments)),d=m();return c.push(d.makeNodeResolver()),O(a,c).fail(d.reject),d.promise}}function bb(a,b){var c=mb(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(mb(arguments)),f=m();return e.push(f.makeNodeResolver()),O(d,e).fail(f.reject),f.promise}}function cb(a,b,c){var d=mb(c||[]),e=m();return d.push(e.makeNodeResolver()),Ab(a,b,d).fail(e.reject),e.promise}function db(a,b){var c=mb(arguments,2),d=m();return c.push(d.makeNodeResolver()),Ab(a,b,c).fail(d.reject),d.promise}function eb(a,b){return b?(a.then(function(a){lb(function(){b(null,a)})},function(a){lb(function(){b(a)})}),void 0):a}var fb=!1;try{throw new Error}catch(gb){fb=!!gb.stack}var hb,ib,jb=j(),kb=function(){},lb=function(){function b(){for(;c.next;){c=c.next;var a=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{a()}catch(f){if(g)throw d&&d.exit(),setTimeout(b,0),d&&d.enter(),f;setTimeout(function(){throw f},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},d=c,e=!1,f=void 0,g=!1;if(lb=function(b){d=d.next={task:b,domain:g&&a.domain,next:null},e||(e=!0,f())},"undefined"!=typeof a&&a.nextTick)g=!0,f=function(){a.nextTick(b)};else if("function"==typeof setImmediate)f="undefined"!=typeof window?setImmediate.bind(window,b):function(){setImmediate(b)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=b,f=function(){h.port2.postMessage(0)}}else f=function(){setTimeout(b,0)};return lb}(),mb=b(Array.prototype.slice),nb=b(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),ob=b(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),pb=b(Array.prototype.map||function(a,b){var c=this,d=[];return nb(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),qb=Object.create||function(a){function b(){}return b.prototype=a,new b},rb=b(Object.prototype.hasOwnProperty),sb=Object.keys||function(a){var b=[];for(var c in a)rb(a,c)&&b.push(c);return b},tb=b(Object.prototype.toString);ib="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var ub;try{new Function("(function* (){ yield 1; })"),ub=!0}catch(gb){ub=!1}var vb="From previous event:";l.nextTick=lb,l.longStackSupport=!1,l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(mb(arguments,1)):a.resolve(c)}},l.promise=n,l.makePromise=o,o.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return A(c)}}function f(a){if("function"==typeof b){e(a,h);try{return b(a)}catch(c){return A(c)}}return A(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return lb(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!l.onerror)throw d;l.onerror(d)}c||i.notify(b)}]),i.promise},o.prototype.thenResolve=function(a){return F(this,function(){return a})},o.prototype.thenReject=function(a){return F(this,function(){throw a})},nb(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(a,b){o.prototype[b]=function(){return l[b].apply(l,[this].concat(mb(arguments)))}},void 0),o.prototype.toSource=function(){return this.toString()},o.prototype.toString=function(){return"[object Promise]"},l.nearer=p,l.isPromise=q,l.isPromiseAlike=r,l.isPending=s,l.isFulfilled=t,l.isRejected=u;var wb=[],xb=[],yb=!1,zb=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return wb.slice()},l.stopUnhandledRejectionTracking=function(){x(),"undefined"!=typeof a&&a.on&&a.removeListener("exit",w),zb=!1},x(),l.reject=A,l.fulfill=B,l.resolve=C,l.master=E,l.when=F,l.spread=G,l.async=H,l.spawn=I,l["return"]=J,l.promised=K,l.dispatch=L,l.dispatcher=M,l.get=M("get"),l.set=M("set"),l["delete"]=l.del=M("delete");var Ab=l.post=M("post");l.mapply=Ab,l.send=N,l.invoke=N,l.mcall=N,l.fapply=O,l["try"]=P,l.fcall=P,l.fbind=Q,l.keys=M("keys"),l.all=R,l.allResolved=k(S,"allResolved","allSettled"),l.allSettled=T,l["catch"]=l.fail=U,l.progress=V,l["finally"]=l.fin=W,l.done=X,l.timeout=Y,l.delay=Z,l.nfapply=$,l.nfcall=_,l.nfbind=ab,l.denodeify=l.nfbind,l.nbind=bb,l.npost=cb,l.nmapply=cb,l.nsend=db,l.ninvoke=l.nsend,l.nmcall=l.nsend,l.nodeify=eb;var Bb=j();return l}),b.exports=d||b.exports}).call(this,a("JkpR2F"))},{JkpR2F:1}],35:[function(a,b){var c={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}};b.exports=c},{}],36:[function(a){var b=a("./TelerikTesting.js").TelerikTesting;window.TelerikTesting=b},{"./TelerikTesting.js":2}]},{},[36]);