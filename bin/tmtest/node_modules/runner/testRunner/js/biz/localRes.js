!function(){function a(a,b){for(var c=0;c<a.length;c++)"function"==typeof a[c]&&a[c].apply(localRes,b)}function b(a){w&&x.send(JSON.stringify(a))}function c(){w&&(v=!1,w=!1,a(C,[]))}function d(b){var c=null;try{c=JSON.parse(b.data)}catch(d){}if(c&&c.message)switch(c.message){case m:v=!0,localRes.connectionData=c.data,a(B,[]),localRes.requestSettings();break;case o:a(y,[c.data]);break;case r:a(z,[c.data]);break;case t:a(A,[c.data])}}function e(){return w}function f(a){b({message:p,data:a})}function g(a){b({message:u,data:a})}function h(){b({message:n})}function i(){b({message:q})}function j(){b({message:s})}function k(){w||(x=new WebSocket("ws://"+window.location.host),x.onopen=function(){w=!0,b({message:l}),console.log("localRes: web socket opened")},x.onclose=function(){c(),console.log("localRes: web socket closed")},x.onerror=function(){c(),console.log("localRes: web socket broke")},x.onmessage=d)}var l="getInitData",m="getInitDataResponse",n="getSettings",o="getSettingsResponse",p="setSettings",q="getSpecs",r="getSpecsResponse",s="getIpAddress",t="getIpAddressResponse",u="startAgents",v=!1,w=!1,x=null,y=[],z=[],A=[],B=[],C=[];window.localRes={isConnected:e,connectionData:null,startWebSocket:k,writeSettings:f,startAgents:g,requestSettings:h,onSettingsReceived:function(a){y.push(a)},requestSpecFiles:i,onSpecFilesReceived:function(a){z.push(a)},requestIpAddress:j,onIpAddressReceived:function(a){A.push(a)},onReady:function(b){B.push(b),v&&a([b],[])},onDisconnect:function(a){C.push(a)}}}();