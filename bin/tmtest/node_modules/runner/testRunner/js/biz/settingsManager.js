!function(){function a(){var a=this.element.find("#swcProjectIdText"),b=this.element.find("#swcApiKeyText"),c=this.element.find("#swcCustomURLText"),d=[{$el:a,rules:[{msg:"is invalid",rule:function(a){return a?-1!==a.indexOf("-"):!0}}]},{$el:b,rules:[{msg:"is invalid",rule:function(a){return-1===a.indexOf("-")}}]}];c.is(":visible")?d.push({$el:c,rules:[{msg:"is required",rule:function(a){return!!a}}]}):c.val(""),tsUtils.validate(d)&&(f.specFolder=this.element.find("#swcSpecFolderText").val(),f.publishURL=c.val(),f.projectKey=a.val(),f.apiKey=b.val(),localRes.writeSettings(f),this.closeAndDestroy())}function b(a){f=a,g=!0}function c(b){13===b.keyCode&&(b.preventDefault(),a.call(this))}function d(){var b=kendo.template($("#settingsWindowContent").html()),d=tsUtils.popModal("Settings",b(f),{"click #saveSettingsBtn":a,"keydown input":c},{width:520,hide:!0}),e=f.publishURL?"Custom":"TelerikPlatform";return kendo.bind(d.element,kendo.observable({selectedOption:e,telerikPlatformSelected:function(){return"TelerikPlatform"===this.get("selectedOption")}})),d.center().open(),d}function e(){var a,b;["specFolder","apiKey","projectKey"].forEach(function(a){a in f||(f[a]="")}),a=d(),g||(a.element.find(".loader-big").show(),b=setInterval(function(){g&&(clearInterval(b),a.content(kendo.template($("#settingsWindowContent").html())(f)))},500))}var f={},g=!1;$(document).ready(function(){$("#settingsBtn").click(e),localRes.onSettingsReceived(b),localRes.requestSettings()})}();