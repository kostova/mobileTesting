var TSProtocol=require("./TsAutomationProtocol.js"),lastError=null,error=function(a){return lastError=a,!1},passed=function(){return lastError=null,!0},validation={validateHandshakeResponse:function(a){try{if(!(a.data.version&&a.data.platformInfo&&a.data.capabilities&&a.data.identity))return error(TSProtocol.errors.HANDSHAKE_FAILED);var b=parseInt(a.data.version);if(!(b>=TSProtocol.MT_PROTOCOL_VERSION_MIN&&b<=TSProtocol.MT_PROTOCOL_VERSION_MAX))return error(TSProtocol.errors.VERSION_MISMATCH)}catch(c){return error(TSProtocol.errors.HANDSHAKE_FAILED)}return passed()},validateIncomingAutomationMessage:function(a){try{if(!a.toId)return error(TSProtocol.errors.RECIPIENT_ID_NOT_SPECIFIED)}catch(b){return error(TSProtocol.errors.INVALID_MESSAGE)}return passed()},validateAutomationMessageHasParams:function(a){return a.data&&a.data.params?passed():error(TSProtocol.errors.PARAMS_NOT_PROVIDED)},validateArgument:function(a,b,c){if(null===a||void 0===a){if(!c)return error(TSProtocol.errors.INVALID_PARAMS)}else{var d=typeof a;if(d!==b)return error(TSProtocol.errors.INVALID_PARAMS)}return passed()},validateArrayElements:function(a,b){return Array.isArray(a)?(a.forEach(function(a){return typeof a!==b?error(TSProtocol.errors.INVALID_PARAMS):void 0}),passed()):error(TSProtocol.errors.INVALID_PARAMS)},getError:function(){return lastError}};module.exports=validation;