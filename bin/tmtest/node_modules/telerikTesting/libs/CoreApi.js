var Q=require("./q.js"),api=require("./api.js"),ApiProtocol=require("./ApiProtocol.js"),coreApi={wait:function(a,b,c){return api.createOperation(a,b,function(){return api.ValidateArgument(c,"number","milliseconds",!1,0),""},function(){return function(){return Q.delay(c).then(function(){return api.PASS(api.createResult(ApiProtocol.resultTypes.REASON,"Success"))})}})},screenshot:function(a,b){return api.createCommand(a,b,function(){return{message:{cmd:"coreApi.screenshot",params:{screenshot:!0}}}},function(a,b){return api.PASS(api.createResult(ApiProtocol.resultTypes.REASON,b.result.reason,a.getScreenshot(b)))})},endExecution:function(a){return api.createCommand(a,"coreApi.endExecution",function(){return{message:{cmd:"coreApi.endExecution"}}})}};module.exports=coreApi;