function CorrectStyleNameFF(a){var b="",c=!1;if(a)for(var d=0;d<a.length;d++)"-"===a[d]?c=!0:c?(c=!1,b+=a[d].toUpperCase()):b+=a[d];return b}function ZeroTimeoutSetup(a){return"window.setTimeout(function() {"+a+"}, 0);"}function FuncSetup(a){return"(function() {"+a+"})(); "}function TargetElementLocXLocYSetup(a,b){var c="var locX = targetElement.clientLeft + Math.floor(targetElement.clientWidth / 2);var locY = targetElement.clientTop + Math.floor(targetElement.clientHeight / 2);";return a&&(c+="locX += "+a+";"),b&&(c+="locY += "+b+";"),c}function MouseEvent(a,b,c,d){return b||(b="0"),FuncSetup(TargetElementLocXLocYSetup(c,d)+'var e = document.createEvent("MouseEvents");e.initMouseEvent("'+a+'", true, true, window, 1, 0, 0, locX, locY, false, false, false, false, '+b+", null);targetElement.dispatchEvent(e);")}function ChangeEvent(){return FuncSetup('if(!!targetElement.tagName.match(/^input|select|textarea$/i)){var e = document.createEvent("HTMLEvents");e.initEvent("change",true,true);targetElement.dispatchEvent(e);}')}function PointerEvent(a){return FuncSetup('var e = document.createEvent("UIEvents");e.initUIEvent("'+a+'", true, true, window, 1);targetElement.dispatchEvent(e);')}function TouchEvent(a,b,c){return FuncSetup(TargetElementLocXLocYSetup(b,c)+'var tl = [ { pageX: locX, pageY: locY, target: targetElement, identifier: 0 } ];var e = document.createEvent("UIEvents");e.initUIEvent("'+a+'", true, true, window, 1);e.changedTouches = tl;e.touches = tl;targetElement.dispatchEvent(e);')}function CreateDefaultDepot(){return{navigateToUrl:function(a){return'window.setTimeout(function() { window.location.href="'+a+'"; }, 0);"'+a+'"'},getUrl:"window.location.href",click:MouseEvent("mousedown")+MouseEvent("mouseup")+MouseEvent("click"),doubleClick:MouseEvent("mousedown")+MouseEvent("mouseup")+MouseEvent("click")+MouseEvent("mousedown")+MouseEvent("mouseup")+MouseEvent("click")+MouseEvent("dblclick"),rightClick:MouseEvent("mousedown",2)+MouseEvent("mouseup",2)+MouseEvent("contextmenu",2),tap:TouchEvent("touchstart")+MouseEvent("mouseover")+MouseEvent("mousemove")+MouseEvent("mousedown")+TouchEvent("touchend")+MouseEvent("mouseup")+MouseEvent("click"),dragElement:function(a,b){return MouseEvent("mousedown")+MouseEvent("mousemove",0,a,b)+MouseEvent("mouseup")},dragElementToElement:function(a){var b=FuncSetup("var dragToQuery = "+JSON.stringify(a)+';var dragToElement = FindTargetElement(dragToQuery);if (dragToElement == null) throw "Cannot find element that matches dragToQuery";return dragToElement.offsetLeft - targetElement.offsetLeft;'),c=FuncSetup("var dragToQuery = "+JSON.stringify(a)+';var dragToElement = FindTargetElement(dragToQuery);if (dragToElement == null) throw "Cannot find element that matches dragToQuery";return dragToElement.offsetTop - targetElement.offsetTop;');return MouseEvent("mousedown")+MouseEvent("mousemove",0,b,c)+MouseEvent("mouseup")},hoverOver:MouseEvent("mouseover"),pressKey:function(a,b,c,d){return"var keyCode = "+a+';var eventObj = document.createEvent("Events");eventObj.initEvent("keypress", true, true);eventObj.altGraphKey = false;eventObj.altKey = '+b+";eventObj.cancelBubble = false;eventObj.charCode = keyCode;eventObj.ctrlKey = "+c+';eventObj.detail = 0;eventObj.keyCode = keyCode;eventObj.keyIdentifier = "";eventObj.layerX = 0;eventObj.layerY= 0;eventObj.metaKey = false;eventObj.pageX = 0;eventObj.pageY = 0;eventObj.shiftKey = '+d+";eventObj.which = keyCode;targetElement.dispatchEvent(eventObj);"},getAttribute:function(a){return'targetElement.getAttribute("'+a+'");'},setAttribute:function(a,b){return'targetElement.setAttribute("'+a+'", "'+b+'");targetElement.getAttribute("'+a+'");'},getStyle:function(a){return'targetElement.style["'+a+'"]'},setStyle:function(a,b){return'targetElement.style["'+a+'"]="'+b+'";'},getTextContent:"targetElement.textContent",setTextContent:function(a){return'targetElement.textContent = "'+a+'";'},getValue:"targetElement.value",setValue:function(a){return'targetElement.value = "'+a+'";'+ChangeEvent()},getHtml:"targetElement.innerHTML",setHtml:function(a){return'targetElement.innerHTML = "'+a+'";'},getChecked:"targetElement.checked",setChecked:function(a){var b=1==a;return"if (targetElement.checked !="+b+") {"+MouseEvent("click")+"targetElement.checked ="+b+";}"},getColumnsCount:function(a){return"targetElement.rows["+a+"].cells.length"},getRowsCount:"targetElement.rows.length",getSelectedText:"var selTxts = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selTxts.push(targetElement.options[ii].text);selTxts.length == 0 ? null : selTxts.length == 1 ? selTxts[0] : selTxts",setSelectedText:function(a){return FuncSetup("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(targetElement.options[ii].text) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+ChangeEvent()},getSelectedValue:"var selVals = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selVals.push(targetElement.options[ii].value);selVals.length == 0 ? null : selVals.length == 1 ? selVals[0] : selVals;",setSelectedValue:function(a){return FuncSetup("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(targetElement.options[ii].value) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+ChangeEvent()},getSelectedIndex:"var selIndxs = [];for(var ii= 0; ii < targetElement.options.length; ii++) if (targetElement.options[ii].selected) selIndxs.push(ii); selIndxs.length == 0 ? -1 : selIndxs.length == 1 ? selIndxs[0] : selIndxs;",setSelectedIndex:function(a){return FuncSetup("var toSelect = "+a+';var setCounter = 0;if (!targetElement.multiple && toSelect.length > 1)throw new Error("This element allows only one selection at a time.");targetElement.selectedIndex = -1;for(var ii= 0; ii < targetElement.options.length; ii++) { var select = (toSelect.indexOf(ii) != -1);targetElement.options[ii].selected = select; if (select) setCounter++;}if (setCounter !== toSelect.length)throw new Error("Specified value is not valid.");toSelect.length == 0 ? null : toSelect.length == 1 ? toSelect[0] : toSelect;')+ChangeEvent()},getPaused:"targetElement.paused",setPaused:function(a){return a?"targetElement.pause()":"targetElement.play()"},getInError:"targetElement.readyState == 0"}}function CreateFirefoxDepot(){var a=CreateDefaultDepot();return a.click=ZeroTimeoutSetup(a.click),a.doubleClick=ZeroTimeoutSetup(a.doubleClick),a.getStyle=function(a){return'targetElement.style["'+CorrectStyleNameFF(a)+'"];'},a.setStyle=function(a,b){return'targetElement.style["'+CorrectStyleNameFF(a)+'"] = "'+b+'";'},a}function CreateInternetExplorerDepot(){var a=CreateDefaultDepot();return a.tap=MouseEvent("mousemove")+MouseEvent("mouseover")+PointerEvent("pointerdown")+MouseEvent("mousedown")+PointerEvent("pointerup")+MouseEvent("mouseup")+MouseEvent("mouseout")+MouseEvent("mouseleave")+MouseEvent("click"),a}function CreateChromeDepot(){var a=CreateDefaultDepot();return a}function CreateSafariDepot(){var a=CreateDefaultDepot();return a}function CreateDepot(a){switch(a.name){case CHROME:return CreateChromeDepot();case FIREFOX:return CreateFirefoxDepot();case SAFARI:return CreateSafariDepot();case MSIE:return CreateInternetExplorerDepot();default:return CreateDefaultDepot()}}function GetDepot(a){var b=a.name;if(cache[b])return cache[b];var c=CreateDepot(a);return cache[b]=c,c}var cache={},CHROME="Chrome",FIREFOX="Firefox",MSIE="MSIE",SAFARI="Safari",scriptDepotFactory={getDepot:GetDepot};module.exports=scriptDepotFactory;